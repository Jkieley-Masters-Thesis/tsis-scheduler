bind [::1]:8080: Address not available
2021-06-15 03:42:56,728 [INFO] 33:139818224188232 deploy.py:main:76: starting with config: [{'name': 'deploy_arput_job', 'type': 'train', 'max_count': 10, 'multiplier': 1, 'deployment_function': <function deploy_arput_job at 0x7f29f4341280>, 'repeat_int': 180.0}, {'name': 'deploy_savedt_job', 'type': 'train', 'max_count': 10, 'multiplier': 1, 'deployment_function': <function deploy_savedt_job at 0x7f29f43413a0>, 'repeat_int': 160.0}, {'name': 'deploy_cfdwid_lr_train_job', 'type': 'train', 'max_count': 10, 'multiplier': 1, 'deployment_function': <function deploy_cfdwid_lr_train_job at 0x7f29f43414c0>, 'repeat_int': 140.0}, {'name': 'deploy_arpui_job', 'type': 'inf', 'max_count': 20, 'multiplier': 20, 'deployment_function': <function deploy_arpui_job at 0x7f29f4341310>, 'repeat_int_min': 0, 'repeat_int_max': 1800}, {'name': 'deploy_savedi_job', 'type': 'inf', 'max_count': 20, 'multiplier': 20, 'deployment_function': <function deploy_savedi_job at 0x7f29f43411f0>, 'repeat_int_min': 0, 'repeat_int_max': 1800}, {'name': 'deploy_cfdwid_lr_inference_job', 'type': 'inf', 'max_count': 20, 'multiplier': 20, 'deployment_function': <function deploy_cfdwid_lr_inference_job at 0x7f29f4341550>, 'repeat_int_min': 0, 'repeat_int_max': 1800}]
2021-06-15 03:42:56,728 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 03:42:56,728 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arput_job in this many seconds: 180.0
2021-06-15 03:42:56,728 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:42:56,729 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 03:42:56,734 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedt_job in this many seconds: 160.0
2021-06-15 03:42:56,735 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:42:56,741 [INFO] 33:139818161421112 deploy.py:safe_deploy:120: starting
2021-06-15 03:42:56,741 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_train_job in this many seconds: 140.0
2021-06-15 03:42:56,741 [INFO] 33:139818161421112 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:42:56,742 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1339
2021-06-15 03:42:56,742 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7_i2y0yd for: client_certificate.crt
2021-06-15 03:42:56,742 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp5tl1aeyz for: client_certificate.crt
2021-06-15 03:42:56,748 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 101
2021-06-15 03:42:56,749 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprutvyoyv for: client.key
2021-06-15 03:42:56,749 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 901
2021-06-15 03:42:56,749 [INFO] 33:139818161421112 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmon3cavo for: client_certificate.crt
2021-06-15 03:42:56,749 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp940nz27g for: client.key
2021-06-15 03:42:56,750 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 684
2021-06-15 03:42:56,750 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprkukax51 for: ca.crt
2021-06-15 03:42:56,750 [INFO] 33:139818161421112 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxpdkua7a for: client.key
2021-06-15 03:42:56,750 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfhd6smzk for: ca.crt
2021-06-15 03:42:56,751 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:42:56,751 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 632
2021-06-15 03:42:56,751 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:42:56,751 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:42:56,751 [INFO] 33:139818161421112 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphnw0m1ng for: ca.crt
2021-06-15 03:42:56,752 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:42:56,752 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:42:56,752 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1687
2021-06-15 03:42:56,752 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:42:56,752 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 7ec6c9c4-670a-4e8b-b207-673c412292d7
2021-06-15 03:42:56,752 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:42:56,752 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:42:56,752 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 518
2021-06-15 03:42:56,753 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:42:56,753 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '837a17eb-797c-4d52-82fd-96c5ec67508e'}
2021-06-15 03:42:56,753 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 30d02f30-c0df-43e9-bf1e-e1d588d10718
2021-06-15 03:42:56,753 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '7ec6c9c4-670a-4e8b-b207-673c412292d7'}
2021-06-15 03:42:56,753 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 699
2021-06-15 03:42:56,753 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:42:56,758 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'arput--837a17eb-797c-4d52-82fd-96c5ec67508e'
2021-06-15 03:42:56,764 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,763 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--7ec6c9c4-670a-4e8b-b207-673c412292d7'
2021-06-15 03:42:56,764 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,763 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '30d02f30-c0df-43e9-bf1e-e1d588d10718'}
2021-06-15 03:42:56,763 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1696
2021-06-15 03:42:56,764 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,764 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,765 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 747
2021-06-15 03:42:56,769 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--30d02f30-c0df-43e9-bf1e-e1d588d10718'
2021-06-15 03:42:56,770 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,770 [DEBUG] 33:139818161421112 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:42:56,770 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1302
2021-06-15 03:42:56,771 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1235
2021-06-15 03:42:56,771 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 202
2021-06-15 03:42:56,771 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 843
2021-06-15 03:42:56,772 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 442
2021-06-15 03:42:56,773 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 616
2021-06-15 03:42:56,773 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1384
2021-06-15 03:42:56,773 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 1555
2021-06-15 03:42:56,773 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 335
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_arpui_job in this many seconds: 547
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 373
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 644
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1148
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1038
2021-06-15 03:42:56,774 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 333
2021-06-15 03:42:56,775 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1716
2021-06-15 03:42:56,775 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 784
2021-06-15 03:42:56,775 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1000
2021-06-15 03:42:56,775 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1532
2021-06-15 03:42:56,775 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1630
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 274
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 563
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 512
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1496
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 609
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1644
2021-06-15 03:42:56,776 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 426
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1793
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1657
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_savedi_job in this many seconds: 1718
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 432
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 701
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 187
2021-06-15 03:42:56,777 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1554
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1796
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 358
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 149
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1237
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 369
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1790
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1236
2021-06-15 03:42:56,778 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 611
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1051
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 540
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 132
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 49
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1248
2021-06-15 03:42:56,779 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 801
2021-06-15 03:42:56,780 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 1780
2021-06-15 03:42:56,780 [INFO] 33:139818224188232 deploy.py:deferred_deploy:89: scheduling deployment: deploy_cfdwid_lr_inference_job in this many seconds: 946
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--30d02f30-c0df-43e9-bf1e-e1d588d10718"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "30d02f30-c0df-43e9-bf1e-e1d588d10718"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--7ec6c9c4-670a-4e8b-b207-673c412292d7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "7ec6c9c4-670a-4e8b-b207-673c412292d7"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--837a17eb-797c-4d52-82fd-96c5ec67508e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "837a17eb-797c-4d52-82fd-96c5ec67508e"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:42:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:42:57,312 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,312 [DEBUG] 33:139818161421112 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,314 [INFO] 33:139818161421112 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--30d02f30-c0df-43e9-bf1e-e1d588d10718'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:42:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:42:57,320 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,320 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,321 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='arput--837a17eb-797c-4d52-82fd-96c5ec67508e'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:42:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:42:57,323 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,323 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:42:57,379 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='savedt--7ec6c9c4-670a-4e8b-b207-673c412292d7'
2021-06-15 03:43:45,779 [INFO] 33:139818100951864 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:43:45,780 [INFO] 33:139818100951864 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:43:45,780 [INFO] 33:139818100951864 deploy.py:deploy:107: deploying: repeat_interval: 49
2021-06-15 03:43:45,780 [INFO] 33:139818100951864 deploy.py:safe_deploy:120: starting
2021-06-15 03:43:45,780 [INFO] 33:139818100951864 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:43:45,786 [INFO] 33:139818100951864 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdflrrvhn for: client_certificate.crt
2021-06-15 03:43:45,786 [INFO] 33:139818100951864 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpeiycb7wl for: client.key
2021-06-15 03:43:45,786 [INFO] 33:139818100951864 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmph2zmhne3 for: ca.crt
2021-06-15 03:43:45,787 [INFO] 33:139818100951864 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:43:49,844 [INFO] 33:139818100951864 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:40 Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib
2021-06-15 03:43:49,844 [INFO] 33:139818100951864 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:43:49,850 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:43:49,850 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:43:49,850 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 6a357a6e-31f8-4560-bb85-e3d35a0ae349
2021-06-15 03:43:49,850 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:43:49,851 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib', 'runId': '6a357a6e-31f8-4560-bb85-e3d35a0ae349'}
2021-06-15 03:43:49,854 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--6a357a6e-31f8-4560-bb85-e3d35a0ae349'
2021-06-15 03:43:49,855 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:43:49,855 [DEBUG] 33:139818100951864 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--6a357a6e-31f8-4560-bb85-e3d35a0ae349"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:43:22 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:43:50,130 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:43:50,130 [DEBUG] 33:139818100951864 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:43:50,131 [INFO] 33:139818100951864 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--6a357a6e-31f8-4560-bb85-e3d35a0ae349'
2021-06-15 03:43:50,131 [INFO] 33:139818100951864 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:44:37,749 [INFO] 33:139818158238520 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:44:37,750 [INFO] 33:139818158238520 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:44:37,750 [INFO] 33:139818158238520 deploy.py:deploy:107: deploying: repeat_interval: 101
2021-06-15 03:44:37,750 [INFO] 33:139818158238520 deploy.py:safe_deploy:120: starting
2021-06-15 03:44:37,750 [INFO] 33:139818158238520 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:44:37,756 [INFO] 33:139818158238520 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm6qjvts_ for: client_certificate.crt
2021-06-15 03:44:37,756 [INFO] 33:139818158238520 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp65mmhrqg for: client.key
2021-06-15 03:44:37,757 [INFO] 33:139818158238520 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp67_opmrj for: ca.crt
2021-06-15 03:44:37,757 [INFO] 33:139818158238520 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:44:41,855 [INFO] 33:139818158238520 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 7b53cebb-d26a-47cd-9b64-f8993cc7089f
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:44:41,856 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': '7b53cebb-d26a-47cd-9b64-f8993cc7089f'}
2021-06-15 03:44:41,862 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--7b53cebb-d26a-47cd-9b64-f8993cc7089f'
2021-06-15 03:44:41,863 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:44:41,863 [DEBUG] 33:139818158238520 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--7b53cebb-d26a-47cd-9b64-f8993cc7089f"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "7b53cebb-d26a-47cd-9b64-f8993cc7089f"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:44:14 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:44:42,137 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:44:42,137 [DEBUG] 33:139818158238520 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:44:42,138 [INFO] 33:139818158238520 deploy.py:deploy_generic_job:237: Job created. status='arpui--7b53cebb-d26a-47cd-9b64-f8993cc7089f'
2021-06-15 03:44:42,139 [INFO] 33:139818158238520 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:45:08,779 [INFO] 33:139818102012728 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:45:08,780 [INFO] 33:139818102012728 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:45:08,780 [INFO] 33:139818102012728 deploy.py:deploy:107: deploying: repeat_interval: 132
2021-06-15 03:45:08,780 [INFO] 33:139818102012728 deploy.py:safe_deploy:120: starting
2021-06-15 03:45:08,780 [INFO] 33:139818102012728 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:45:08,786 [INFO] 33:139818102012728 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpn_d3a8tc for: client_certificate.crt
2021-06-15 03:45:08,787 [INFO] 33:139818102012728 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0a4djsvx for: client.key
2021-06-15 03:45:08,787 [INFO] 33:139818102012728 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp11kl4hk8 for: ca.crt
2021-06-15 03:45:08,787 [INFO] 33:139818102012728 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:45:12,934 [INFO] 33:139818102012728 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:40 Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib
2021-06-15 03:45:12,934 [INFO] 33:139818102012728 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:45:12,935 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:45:12,935 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:45:12,935 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 050a03a6-9a6d-4dd9-95f2-84797109c162
2021-06-15 03:45:12,935 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:45:12,935 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib', 'runId': '050a03a6-9a6d-4dd9-95f2-84797109c162'}
2021-06-15 03:45:12,939 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--050a03a6-9a6d-4dd9-95f2-84797109c162'
2021-06-15 03:45:12,940 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:45:12,940 [DEBUG] 33:139818102012728 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--050a03a6-9a6d-4dd9-95f2-84797109c162"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:44:45 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:45:13,215 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:13,215 [DEBUG] 33:139818102012728 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:13,216 [INFO] 33:139818102012728 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--050a03a6-9a6d-4dd9-95f2-84797109c162'
2021-06-15 03:45:13,217 [INFO] 33:139818102012728 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:45:16,742 [INFO] 33:139818160360248 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:45:16,743 [INFO] 33:139818160360248 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:45:16,743 [INFO] 33:139818160360248 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:45:16,743 [INFO] 33:139818160360248 deploy.py:safe_deploy:120: starting
2021-06-15 03:45:16,743 [INFO] 33:139818160360248 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:45:16,749 [INFO] 33:139818160360248 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpc16co2jy for: client_certificate.crt
2021-06-15 03:45:16,749 [INFO] 33:139818160360248 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpu_1xgzrk for: client.key
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2honlm26 for: ca.crt
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 6431a64b-5f87-4b6d-bbbc-c639882af479
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:45:16,750 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '6431a64b-5f87-4b6d-bbbc-c639882af479'}
2021-06-15 03:45:16,754 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--6431a64b-5f87-4b6d-bbbc-c639882af479'
2021-06-15 03:45:16,755 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:45:16,755 [DEBUG] 33:139818160360248 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--6431a64b-5f87-4b6d-bbbc-c639882af479"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "6431a64b-5f87-4b6d-bbbc-c639882af479"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:44:49 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:45:16,967 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:16,967 [DEBUG] 33:139818160360248 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:17,026 [INFO] 33:139818160360248 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--6431a64b-5f87-4b6d-bbbc-c639882af479'
2021-06-15 03:45:25,778 [INFO] 33:139818110499640 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:45:25,778 [INFO] 33:139818110499640 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:45:25,778 [INFO] 33:139818110499640 deploy.py:deploy:107: deploying: repeat_interval: 149
2021-06-15 03:45:25,778 [INFO] 33:139818110499640 deploy.py:safe_deploy:120: starting
2021-06-15 03:45:25,779 [INFO] 33:139818110499640 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:45:25,785 [INFO] 33:139818110499640 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8fyr8ef5 for: client_certificate.crt
2021-06-15 03:45:25,785 [INFO] 33:139818110499640 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp1nooe828 for: client.key
2021-06-15 03:45:25,785 [INFO] 33:139818110499640 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqjlqchoa for: ca.crt
2021-06-15 03:45:25,785 [INFO] 33:139818110499640 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:45:30,015 [INFO] 33:139818110499640 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:40 Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: cda576c7-1ec3-486b-9630-c698b7b8849b
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:45:30,016 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib', 'runId': 'cda576c7-1ec3-486b-9630-c698b7b8849b'}
2021-06-15 03:45:30,020 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--cda576c7-1ec3-486b-9630-c698b7b8849b'
2021-06-15 03:45:30,022 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:45:30,022 [DEBUG] 33:139818110499640 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--cda576c7-1ec3-486b-9630-c698b7b8849b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--30d02f30-c0df-43e9-bf1e-e1d588d10718.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:45:02 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:45:30,243 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:30,243 [DEBUG] 33:139818110499640 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:30,299 [INFO] 33:139818110499640 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--cda576c7-1ec3-486b-9630-c698b7b8849b'
2021-06-15 03:45:30,299 [INFO] 33:139818110499640 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:45:36,736 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:45:36,736 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:45:36,736 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:45:36,736 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 03:45:36,736 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:45:36,742 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpaqo_n9x7 for: client_certificate.crt
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpftmbr99i for: client.key
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpcv7b80vo for: ca.crt
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: b153a987-af80-4163-acfb-230f2d5df6a3
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:45:36,743 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'b153a987-af80-4163-acfb-230f2d5df6a3'}
2021-06-15 03:45:36,748 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--b153a987-af80-4163-acfb-230f2d5df6a3'
2021-06-15 03:45:36,748 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:45:36,748 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--b153a987-af80-4163-acfb-230f2d5df6a3"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "b153a987-af80-4163-acfb-230f2d5df6a3"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:45:09 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:45:36,963 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:36,963 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:37,021 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='savedt--b153a987-af80-4163-acfb-230f2d5df6a3'
2021-06-15 03:45:56,729 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 03:45:56,729 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:45:56,729 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 03:45:56,729 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 03:45:56,729 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxv2fl44m for: client_certificate.crt
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsqz2ygbs for: client.key
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmph4m3kvyf for: ca.crt
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:45:56,736 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'd7ba5ae2-18ab-47da-bc65-05cbf28edbf3'}
2021-06-15 03:45:56,741 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'arput--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3'
2021-06-15 03:45:56,741 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:45:56,741 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:45:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:45:56,961 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:56,961 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:45:57,016 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='arput--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3'
2021-06-15 03:46:03,778 [INFO] 33:139818114743096 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:46:03,778 [INFO] 33:139818114743096 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:46:03,778 [INFO] 33:139818114743096 deploy.py:deploy:107: deploying: repeat_interval: 187
2021-06-15 03:46:03,778 [INFO] 33:139818114743096 deploy.py:safe_deploy:120: starting
2021-06-15 03:46:03,778 [INFO] 33:139818114743096 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:46:03,784 [INFO] 33:139818114743096 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpicgq8ic4 for: client_certificate.crt
2021-06-15 03:46:03,785 [INFO] 33:139818114743096 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6037c7_r for: client.key
2021-06-15 03:46:03,785 [INFO] 33:139818114743096 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp1fwy5p22 for: ca.crt
2021-06-15 03:46:03,785 [INFO] 33:139818114743096 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:46:07,954 [INFO] 33:139818114743096 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:42 Trained_cfdwid_la--6431a64b-5f87-4b6d-bbbc-c639882af479.joblib
2021-06-15 03:46:07,954 [INFO] 33:139818114743096 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:46:07,955 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:46:07,955 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:46:07,955 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 4c03f786-60d1-4bd9-8664-f1b42874dcb7
2021-06-15 03:46:07,955 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:46:07,955 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--6431a64b-5f87-4b6d-bbbc-c639882af479.joblib', 'runId': '4c03f786-60d1-4bd9-8664-f1b42874dcb7'}
2021-06-15 03:46:07,959 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--4c03f786-60d1-4bd9-8664-f1b42874dcb7'
2021-06-15 03:46:07,960 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:46:07,960 [DEBUG] 33:139818114743096 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--4c03f786-60d1-4bd9-8664-f1b42874dcb7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--6431a64b-5f87-4b6d-bbbc-c639882af479.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:45:40 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:46:08,232 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:46:08,232 [DEBUG] 33:139818114743096 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:46:08,233 [INFO] 33:139818114743096 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--4c03f786-60d1-4bd9-8664-f1b42874dcb7'
2021-06-15 03:46:08,234 [INFO] 33:139818114743096 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:46:18,771 [INFO] 33:139818146569016 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:46:18,771 [INFO] 33:139818146569016 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:46:18,772 [INFO] 33:139818146569016 deploy.py:deploy:107: deploying: repeat_interval: 202
2021-06-15 03:46:18,772 [INFO] 33:139818146569016 deploy.py:safe_deploy:120: starting
2021-06-15 03:46:18,772 [INFO] 33:139818146569016 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:46:18,778 [INFO] 33:139818146569016 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqszbno7l for: client_certificate.crt
2021-06-15 03:46:18,778 [INFO] 33:139818146569016 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp4xakuab3 for: client.key
2021-06-15 03:46:18,778 [INFO] 33:139818146569016 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpisr41xik for: ca.crt
2021-06-15 03:46:18,779 [INFO] 33:139818146569016 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:46:22,971 [INFO] 33:139818146569016 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: e9711573-8014-4fd9-9473-146e26e799bf
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:46:22,972 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': 'e9711573-8014-4fd9-9473-146e26e799bf'}
2021-06-15 03:46:22,977 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--e9711573-8014-4fd9-9473-146e26e799bf'
2021-06-15 03:46:22,978 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:46:22,978 [DEBUG] 33:139818146569016 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--e9711573-8014-4fd9-9473-146e26e799bf"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "e9711573-8014-4fd9-9473-146e26e799bf"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:45:55 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:46:23,253 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:46:23,253 [DEBUG] 33:139818146569016 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:46:23,255 [INFO] 33:139818146569016 deploy.py:deploy_generic_job:237: Job created. status='arpui--e9711573-8014-4fd9-9473-146e26e799bf'
2021-06-15 03:46:23,255 [INFO] 33:139818146569016 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:47:30,776 [INFO] 33:139818127473464 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:47:30,776 [INFO] 33:139818127473464 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:47:30,776 [INFO] 33:139818127473464 deploy.py:deploy:107: deploying: repeat_interval: 274
2021-06-15 03:47:30,776 [INFO] 33:139818127473464 deploy.py:safe_deploy:120: starting
2021-06-15 03:47:30,777 [INFO] 33:139818127473464 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:47:30,783 [INFO] 33:139818127473464 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9vqk9_3p for: client_certificate.crt
2021-06-15 03:47:30,783 [INFO] 33:139818127473464 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpf604v8y_ for: client.key
2021-06-15 03:47:30,783 [INFO] 33:139818127473464 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdgxonfwk for: ca.crt
2021-06-15 03:47:30,784 [INFO] 33:139818127473464 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:47:35,007 [INFO] 33:139818127473464 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:17 Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b
2021-06-15 03:47:35,007 [INFO] 33:139818127473464 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:47:35,008 [INFO] 33:139818127473464 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:47:37,027 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:47:37,027 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:47:37,027 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:47:37,027 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 03:47:37,028 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:47:37,034 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzk5lxfa9 for: client_certificate.crt
2021-06-15 03:47:37,034 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpj_o_y_8j for: client.key
2021-06-15 03:47:37,034 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6p5njsq8 for: ca.crt
2021-06-15 03:47:37,035 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:47:37,035 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:47:37,035 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: eb99ac8c-a49f-4243-a54f-d66f06c9653d
2021-06-15 03:47:37,035 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:47:37,035 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': 'eb99ac8c-a49f-4243-a54f-d66f06c9653d'}
2021-06-15 03:47:37,039 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--eb99ac8c-a49f-4243-a54f-d66f06c9653d'
2021-06-15 03:47:37,040 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:47:37,040 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--eb99ac8c-a49f-4243-a54f-d66f06c9653d"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "eb99ac8c-a49f-4243-a54f-d66f06c9653d"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:47:09 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:47:37,263 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:47:37,263 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:47:37,314 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--eb99ac8c-a49f-4243-a54f-d66f06c9653d'
2021-06-15 03:47:39,311 [INFO] 33:139818127473464 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: daa07ae5-0f68-4cf3-b6e0-8f798fdde92a
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:47:39,312 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': 'daa07ae5-0f68-4cf3-b6e0-8f798fdde92a'}
2021-06-15 03:47:39,317 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--daa07ae5-0f68-4cf3-b6e0-8f798fdde92a'
2021-06-15 03:47:39,318 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:47:39,318 [DEBUG] 33:139818127473464 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--daa07ae5-0f68-4cf3-b6e0-8f798fdde92a"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "daa07ae5-0f68-4cf3-b6e0-8f798fdde92a"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:47:12 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:47:39,590 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:47:39,590 [DEBUG] 33:139818127473464 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:47:39,591 [INFO] 33:139818127473464 deploy.py:deploy_generic_job:237: Job created. status='savedi--daa07ae5-0f68-4cf3-b6e0-8f798fdde92a'
2021-06-15 03:47:39,591 [INFO] 33:139818127473464 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:48:17,022 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:48:17,022 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:48:17,022 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:48:17,022 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 03:48:17,022 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:48:17,029 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2v1wl1l8 for: client_certificate.crt
2021-06-15 03:48:17,029 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpj3vsp7ky for: client.key
2021-06-15 03:48:17,029 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpacux05cr for: ca.crt
2021-06-15 03:48:17,029 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:48:17,029 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:48:17,030 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 1ef64fd3-f02f-4ae0-ab7c-26067555e833
2021-06-15 03:48:17,030 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:48:17,030 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '1ef64fd3-f02f-4ae0-ab7c-26067555e833'}
2021-06-15 03:48:17,034 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--1ef64fd3-f02f-4ae0-ab7c-26067555e833'
2021-06-15 03:48:17,035 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:48:17,035 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--1ef64fd3-f02f-4ae0-ab7c-26067555e833"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "1ef64fd3-f02f-4ae0-ab7c-26067555e833"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:47:49 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:48:17,310 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:17,310 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:17,311 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='savedt--1ef64fd3-f02f-4ae0-ab7c-26067555e833'
2021-06-15 03:48:29,775 [INFO] 33:139818133838648 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:48:29,775 [INFO] 33:139818133838648 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:48:29,775 [INFO] 33:139818133838648 deploy.py:deploy:107: deploying: repeat_interval: 333
2021-06-15 03:48:29,775 [INFO] 33:139818133838648 deploy.py:safe_deploy:120: starting
2021-06-15 03:48:29,775 [INFO] 33:139818133838648 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:48:29,782 [INFO] 33:139818133838648 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmxitjbji for: client_certificate.crt
2021-06-15 03:48:29,782 [INFO] 33:139818133838648 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkmuuctqu for: client.key
2021-06-15 03:48:29,782 [INFO] 33:139818133838648 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprteeg67z for: ca.crt
2021-06-15 03:48:29,782 [INFO] 33:139818133838648 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:48:31,774 [INFO] 33:139818140203832 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:48:31,775 [INFO] 33:139818140203832 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:48:31,775 [INFO] 33:139818140203832 deploy.py:deploy:107: deploying: repeat_interval: 335
2021-06-15 03:48:31,775 [INFO] 33:139818140203832 deploy.py:safe_deploy:120: starting
2021-06-15 03:48:31,775 [INFO] 33:139818140203832 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:48:31,781 [INFO] 33:139818140203832 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphfji2wpv for: client_certificate.crt
2021-06-15 03:48:31,782 [INFO] 33:139818140203832 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkul3s781 for: client.key
2021-06-15 03:48:31,782 [INFO] 33:139818140203832 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpbe1jjvc8 for: ca.crt
2021-06-15 03:48:31,782 [INFO] 33:139818140203832 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:48:33,995 [INFO] 33:139818133838648 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:17 Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b
2021-06-15 03:48:33,995 [INFO] 33:139818133838648 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:48:33,995 [INFO] 33:139818133838648 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:48:36,070 [INFO] 33:139818140203832 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:48:36,070 [INFO] 33:139818140203832 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:48:36,071 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:48:36,071 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:48:36,071 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: edbde06b-ca4f-44b9-8d51-52175af9adad
2021-06-15 03:48:36,071 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:48:36,071 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': 'edbde06b-ca4f-44b9-8d51-52175af9adad'}
2021-06-15 03:48:36,076 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--edbde06b-ca4f-44b9-8d51-52175af9adad'
2021-06-15 03:48:36,077 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:48:36,077 [DEBUG] 33:139818140203832 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--edbde06b-ca4f-44b9-8d51-52175af9adad"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "edbde06b-ca4f-44b9-8d51-52175af9adad"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:08 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:48:36,352 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:36,352 [DEBUG] 33:139818140203832 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:36,354 [INFO] 33:139818140203832 deploy.py:deploy_generic_job:237: Job created. status='arpui--edbde06b-ca4f-44b9-8d51-52175af9adad'
2021-06-15 03:48:36,354 [INFO] 33:139818140203832 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:48:38,294 [INFO] 33:139818133838648 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:48:38,295 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': '20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1'}
2021-06-15 03:48:38,300 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1'
2021-06-15 03:48:38,301 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:48:38,301 [DEBUG] 33:139818133838648 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:11 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:48:38,577 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:38,577 [DEBUG] 33:139818133838648 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:38,578 [INFO] 33:139818133838648 deploy.py:deploy_generic_job:237: Job created. status='savedi--20aa22e1-f6e7-46eb-bb53-1fb24a9d5fc1'
2021-06-15 03:48:38,578 [INFO] 33:139818133838648 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:48:54,778 [INFO] 33:139818111560504 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:48:54,778 [INFO] 33:139818111560504 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:48:54,778 [INFO] 33:139818111560504 deploy.py:deploy:107: deploying: repeat_interval: 358
2021-06-15 03:48:54,779 [INFO] 33:139818111560504 deploy.py:safe_deploy:120: starting
2021-06-15 03:48:54,779 [INFO] 33:139818111560504 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:48:54,785 [INFO] 33:139818111560504 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpn9pp9pl2 for: client_certificate.crt
2021-06-15 03:48:54,785 [INFO] 33:139818111560504 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpk20txdc3 for: client.key
2021-06-15 03:48:54,785 [INFO] 33:139818111560504 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprsx33uuh for: ca.crt
2021-06-15 03:48:54,786 [INFO] 33:139818111560504 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:48:57,017 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 03:48:57,017 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:48:57,017 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 03:48:57,017 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 03:48:57,017 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:48:57,024 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm0pfpcpn for: client_certificate.crt
2021-06-15 03:48:57,024 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplckwl4sk for: client.key
2021-06-15 03:48:57,024 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzmx3s3vs for: ca.crt
2021-06-15 03:48:57,024 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:48:57,024 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:48:57,025 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 55d90ba8-1862-461b-9ba8-ea7e5b82ef77
2021-06-15 03:48:57,025 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:48:57,025 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '55d90ba8-1862-461b-9ba8-ea7e5b82ef77'}
2021-06-15 03:48:57,029 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'arput--55d90ba8-1862-461b-9ba8-ea7e5b82ef77'
2021-06-15 03:48:57,030 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:48:57,030 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--55d90ba8-1862-461b-9ba8-ea7e5b82ef77"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "55d90ba8-1862-461b-9ba8-ea7e5b82ef77"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:48:57,246 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:57,246 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:57,304 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='arput--55d90ba8-1862-461b-9ba8-ea7e5b82ef77'
2021-06-15 03:48:59,094 [INFO] 33:139818111560504 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:45 Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3c517157-c5a1-43db-bb11-9a5afc1a700e
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:48:59,095 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib', 'runId': '3c517157-c5a1-43db-bb11-9a5afc1a700e'}
2021-06-15 03:48:59,099 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--3c517157-c5a1-43db-bb11-9a5afc1a700e'
2021-06-15 03:48:59,100 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:48:59,100 [DEBUG] 33:139818111560504 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--3c517157-c5a1-43db-bb11-9a5afc1a700e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:48:59,373 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:59,373 [DEBUG] 33:139818111560504 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:48:59,374 [INFO] 33:139818111560504 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--3c517157-c5a1-43db-bb11-9a5afc1a700e'
2021-06-15 03:48:59,374 [INFO] 33:139818111560504 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:49:05,778 [INFO] 33:139818108377912 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:49:05,779 [INFO] 33:139818108377912 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:49:05,779 [INFO] 33:139818108377912 deploy.py:deploy:107: deploying: repeat_interval: 369
2021-06-15 03:49:05,779 [INFO] 33:139818108377912 deploy.py:safe_deploy:120: starting
2021-06-15 03:49:05,779 [INFO] 33:139818108377912 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:49:05,785 [INFO] 33:139818108377912 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpuigkxwdy for: client_certificate.crt
2021-06-15 03:49:05,785 [INFO] 33:139818108377912 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp03trjemt for: client.key
2021-06-15 03:49:05,786 [INFO] 33:139818108377912 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsjf552p4 for: ca.crt
2021-06-15 03:49:05,786 [INFO] 33:139818108377912 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:49:09,774 [INFO] 33:139818138082104 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:49:09,775 [INFO] 33:139818138082104 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:49:09,775 [INFO] 33:139818138082104 deploy.py:deploy:107: deploying: repeat_interval: 373
2021-06-15 03:49:09,775 [INFO] 33:139818138082104 deploy.py:safe_deploy:120: starting
2021-06-15 03:49:09,775 [INFO] 33:139818138082104 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:49:09,782 [INFO] 33:139818138082104 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsdx861sw for: client_certificate.crt
2021-06-15 03:49:09,782 [INFO] 33:139818138082104 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpofyr08vi for: client.key
2021-06-15 03:49:09,782 [INFO] 33:139818138082104 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7wfdjobk for: ca.crt
2021-06-15 03:49:09,783 [INFO] 33:139818138082104 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:49:10,222 [INFO] 33:139818108377912 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:45 Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3733f8c1-3988-42c4-ae0a-982c897590a4
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:49:10,223 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib', 'runId': '3733f8c1-3988-42c4-ae0a-982c897590a4'}
2021-06-15 03:49:10,227 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--3733f8c1-3988-42c4-ae0a-982c897590a4'
2021-06-15 03:49:10,229 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:49:10,229 [DEBUG] 33:139818108377912 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--3733f8c1-3988-42c4-ae0a-982c897590a4"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:43 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:49:10,503 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:10,503 [DEBUG] 33:139818108377912 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:10,504 [INFO] 33:139818108377912 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--3733f8c1-3988-42c4-ae0a-982c897590a4'
2021-06-15 03:49:10,505 [INFO] 33:139818108377912 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:49:13,902 [INFO] 33:139818138082104 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:17 Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b
2021-06-15 03:49:13,903 [INFO] 33:139818138082104 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:49:13,903 [INFO] 33:139818138082104 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:49:18,127 [INFO] 33:139818138082104 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:49:18,127 [INFO] 33:139818138082104 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:49:18,128 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:49:18,128 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:49:18,128 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: d12a787e-379f-4b57-8a20-db6ced46a4aa
2021-06-15 03:49:18,128 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:49:18,128 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': 'd12a787e-379f-4b57-8a20-db6ced46a4aa'}
2021-06-15 03:49:18,133 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--d12a787e-379f-4b57-8a20-db6ced46a4aa'
2021-06-15 03:49:18,134 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:49:18,134 [DEBUG] 33:139818138082104 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--d12a787e-379f-4b57-8a20-db6ced46a4aa"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "d12a787e-379f-4b57-8a20-db6ced46a4aa"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:48:51 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:49:18,409 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:18,409 [DEBUG] 33:139818138082104 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:18,410 [INFO] 33:139818138082104 deploy.py:deploy_generic_job:237: Job created. status='savedi--d12a787e-379f-4b57-8a20-db6ced46a4aa'
2021-06-15 03:49:18,411 [INFO] 33:139818138082104 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:49:57,315 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:49:57,315 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:49:57,315 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:49:57,315 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 03:49:57,316 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:49:57,322 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9bkdo0l4 for: client_certificate.crt
2021-06-15 03:49:57,322 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpbb49rtcm for: client.key
2021-06-15 03:49:57,322 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyg1yxkwx for: ca.crt
2021-06-15 03:49:57,323 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:49:57,323 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:49:57,323 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 93ca340f-f52c-4927-9c67-83a343600037
2021-06-15 03:49:57,323 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:49:57,323 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '93ca340f-f52c-4927-9c67-83a343600037'}
2021-06-15 03:49:57,327 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--93ca340f-f52c-4927-9c67-83a343600037'
2021-06-15 03:49:57,328 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:49:57,328 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--93ca340f-f52c-4927-9c67-83a343600037"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "93ca340f-f52c-4927-9c67-83a343600037"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:49:30 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:49:57,601 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:57,601 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:49:57,602 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--93ca340f-f52c-4927-9c67-83a343600037'
2021-06-15 03:50:02,777 [INFO] 33:139818121108280 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:50:02,777 [INFO] 33:139818121108280 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:50:02,777 [INFO] 33:139818121108280 deploy.py:deploy:107: deploying: repeat_interval: 426
2021-06-15 03:50:02,777 [INFO] 33:139818121108280 deploy.py:safe_deploy:120: starting
2021-06-15 03:50:02,777 [INFO] 33:139818121108280 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:50:02,784 [INFO] 33:139818121108280 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmptaf9a3r_ for: client_certificate.crt
2021-06-15 03:50:02,784 [INFO] 33:139818121108280 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpbzxyyrux for: client.key
2021-06-15 03:50:02,784 [INFO] 33:139818121108280 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzu5sj_cx for: ca.crt
2021-06-15 03:50:02,784 [INFO] 33:139818121108280 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:50:06,979 [INFO] 33:139818121108280 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:17 Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b
2021-06-15 03:50:06,979 [INFO] 33:139818121108280 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:50:06,979 [INFO] 33:139818121108280 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:50:08,778 [INFO] 33:139818116864824 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:50:08,778 [INFO] 33:139818116864824 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:50:08,778 [INFO] 33:139818116864824 deploy.py:deploy:107: deploying: repeat_interval: 432
2021-06-15 03:50:08,778 [INFO] 33:139818116864824 deploy.py:safe_deploy:120: starting
2021-06-15 03:50:08,778 [INFO] 33:139818116864824 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:50:08,785 [INFO] 33:139818116864824 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplsq5e07y for: client_certificate.crt
2021-06-15 03:50:08,785 [INFO] 33:139818116864824 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyr5qi56f for: client.key
2021-06-15 03:50:08,785 [INFO] 33:139818116864824 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6j62a5mq for: ca.crt
2021-06-15 03:50:08,786 [INFO] 33:139818116864824 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:11 Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ddd14cee-2880-4c19-ae08-72dfde9ef4e4
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:50:11,211 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f', 'runId': 'ddd14cee-2880-4c19-ae08-72dfde9ef4e4'}
2021-06-15 03:50:11,217 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--ddd14cee-2880-4c19-ae08-72dfde9ef4e4'
2021-06-15 03:50:11,218 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:50:11,218 [DEBUG] 33:139818121108280 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--ddd14cee-2880-4c19-ae08-72dfde9ef4e4"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--ec8c2cb6-6397-49f1-a9a9-5531cfad274f"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ddd14cee-2880-4c19-ae08-72dfde9ef4e4"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:49:44 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:50:11,492 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:11,492 [DEBUG] 33:139818121108280 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:11,494 [INFO] 33:139818121108280 deploy.py:deploy_generic_job:237: Job created. status='savedi--ddd14cee-2880-4c19-ae08-72dfde9ef4e4'
2021-06-15 03:50:11,494 [INFO] 33:139818121108280 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:50:12,922 [INFO] 33:139818116864824 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:45 Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ab7612ca-48c9-4e8d-bfa4-3b7929c29489
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:50:12,923 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib', 'runId': 'ab7612ca-48c9-4e8d-bfa4-3b7929c29489'}
2021-06-15 03:50:12,927 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--ab7612ca-48c9-4e8d-bfa4-3b7929c29489'
2021-06-15 03:50:12,928 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:50:12,928 [DEBUG] 33:139818116864824 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--ab7612ca-48c9-4e8d-bfa4-3b7929c29489"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:49:45 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:50:13,200 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:13,200 [DEBUG] 33:139818116864824 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:13,201 [INFO] 33:139818116864824 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--ab7612ca-48c9-4e8d-bfa4-3b7929c29489'
2021-06-15 03:50:13,201 [INFO] 33:139818116864824 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:50:18,773 [INFO] 33:139818144447288 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:50:18,773 [INFO] 33:139818144447288 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:50:18,773 [INFO] 33:139818144447288 deploy.py:deploy:107: deploying: repeat_interval: 442
2021-06-15 03:50:18,773 [INFO] 33:139818144447288 deploy.py:safe_deploy:120: starting
2021-06-15 03:50:18,773 [INFO] 33:139818144447288 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:50:18,780 [INFO] 33:139818144447288 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp56w_ugq2 for: client_certificate.crt
2021-06-15 03:50:18,780 [INFO] 33:139818144447288 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpk4uryxtk for: client.key
2021-06-15 03:50:18,780 [INFO] 33:139818144447288 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpx67_c142 for: ca.crt
2021-06-15 03:50:18,781 [INFO] 33:139818144447288 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:50:23,050 [INFO] 33:139818144447288 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 9c7ca13b-5572-43fd-b29f-4001e5a4ceb0
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:50:23,051 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '9c7ca13b-5572-43fd-b29f-4001e5a4ceb0'}
2021-06-15 03:50:23,056 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--9c7ca13b-5572-43fd-b29f-4001e5a4ceb0'
2021-06-15 03:50:23,058 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:50:23,058 [DEBUG] 33:139818144447288 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--9c7ca13b-5572-43fd-b29f-4001e5a4ceb0"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "9c7ca13b-5572-43fd-b29f-4001e5a4ceb0"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:49:55 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:50:23,330 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:23,330 [DEBUG] 33:139818144447288 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:23,331 [INFO] 33:139818144447288 deploy.py:deploy_generic_job:237: Job created. status='arpui--9c7ca13b-5572-43fd-b29f-4001e5a4ceb0'
2021-06-15 03:50:23,332 [INFO] 33:139818144447288 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:50:57,311 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:50:57,312 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:50:57,312 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:50:57,312 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 03:50:57,312 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:50:57,318 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprhsvq9fn for: client_certificate.crt
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfa8v7_yj for: client.key
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2pz_md_m for: ca.crt
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 421e60f8-b5ab-42ac-8a11-0fba3ad69ac2
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:50:57,319 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '421e60f8-b5ab-42ac-8a11-0fba3ad69ac2'}
2021-06-15 03:50:57,324 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2'
2021-06-15 03:50:57,324 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:50:57,324 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "421e60f8-b5ab-42ac-8a11-0fba3ad69ac2"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:50:30 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:50:57,600 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:57,600 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:50:57,601 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='savedt--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2'
2021-06-15 03:51:28,776 [INFO] 33:139818125351736 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:51:28,776 [INFO] 33:139818125351736 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:51:28,776 [INFO] 33:139818125351736 deploy.py:deploy:107: deploying: repeat_interval: 512
2021-06-15 03:51:28,777 [INFO] 33:139818125351736 deploy.py:safe_deploy:120: starting
2021-06-15 03:51:28,777 [INFO] 33:139818125351736 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:51:28,783 [INFO] 33:139818125351736 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp822ig88o for: client_certificate.crt
2021-06-15 03:51:28,783 [INFO] 33:139818125351736 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpv99hvfjr for: client.key
2021-06-15 03:51:28,783 [INFO] 33:139818125351736 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplnhg2vf6 for: ca.crt
2021-06-15 03:51:28,783 [INFO] 33:139818125351736 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:51:32,995 [INFO] 33:139818125351736 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 17:17 Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b
2021-06-15 03:51:32,995 [INFO] 33:139818125351736 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:51:32,995 [INFO] 33:139818125351736 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:51:34,753 [INFO] 33:139818152934200 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:51:34,754 [INFO] 33:139818152934200 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:51:34,754 [INFO] 33:139818152934200 deploy.py:deploy:107: deploying: repeat_interval: 518
2021-06-15 03:51:34,754 [INFO] 33:139818152934200 deploy.py:safe_deploy:120: starting
2021-06-15 03:51:34,754 [INFO] 33:139818152934200 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:51:34,760 [INFO] 33:139818152934200 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpq0asix1t for: client_certificate.crt
2021-06-15 03:51:34,761 [INFO] 33:139818152934200 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp71bwu6dc for: client.key
2021-06-15 03:51:34,761 [INFO] 33:139818152934200 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7e0kp5m6 for: ca.crt
2021-06-15 03:51:34,761 [INFO] 33:139818152934200 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: c3957e1d-cd13-48e0-82e4-465fd99e7ca1
2021-06-15 03:51:37,183 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:51:37,184 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': 'c3957e1d-cd13-48e0-82e4-465fd99e7ca1'}
2021-06-15 03:51:37,189 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--c3957e1d-cd13-48e0-82e4-465fd99e7ca1'
2021-06-15 03:51:37,190 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:51:37,190 [DEBUG] 33:139818125351736 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--c3957e1d-cd13-48e0-82e4-465fd99e7ca1"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--2e642981-8542-4b82-9b59-06786d1a9d7b"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "c3957e1d-cd13-48e0-82e4-465fd99e7ca1"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:10 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:51:37,409 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:37,409 [DEBUG] 33:139818125351736 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:37,466 [INFO] 33:139818125351736 deploy.py:deploy_generic_job:237: Job created. status='savedi--c3957e1d-cd13-48e0-82e4-465fd99e7ca1'
2021-06-15 03:51:37,466 [INFO] 33:139818125351736 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:51:39,006 [INFO] 33:139818152934200 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:51:39,007 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b'}
2021-06-15 03:51:39,012 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b'
2021-06-15 03:51:39,012 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:51:39,012 [DEBUG] 33:139818152934200 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:11 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:51:39,286 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:39,286 [DEBUG] 33:139818152934200 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:39,287 [INFO] 33:139818152934200 deploy.py:deploy_generic_job:237: Job created. status='arpui--3cbfcb6b-e3f7-4d93-8c1a-d86735b6590b'
2021-06-15 03:51:39,288 [INFO] 33:139818152934200 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:51:56,779 [INFO] 33:139818103073592 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:51:56,779 [INFO] 33:139818103073592 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:51:56,779 [INFO] 33:139818103073592 deploy.py:deploy:107: deploying: repeat_interval: 540
2021-06-15 03:51:56,780 [INFO] 33:139818103073592 deploy.py:safe_deploy:120: starting
2021-06-15 03:51:56,780 [INFO] 33:139818103073592 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:51:56,786 [INFO] 33:139818103073592 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp3qs_6z8a for: client_certificate.crt
2021-06-15 03:51:56,786 [INFO] 33:139818103073592 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpev1zdje9 for: client.key
2021-06-15 03:51:56,786 [INFO] 33:139818103073592 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8_w5nio7 for: ca.crt
2021-06-15 03:51:56,787 [INFO] 33:139818103073592 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:51:57,304 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 03:51:57,304 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:51:57,305 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 03:51:57,305 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 03:51:57,305 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:51:57,311 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkptyhcm6 for: client_certificate.crt
2021-06-15 03:51:57,311 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8n904tz6 for: client.key
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmzqcn2a1 for: ca.crt
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: efcc8d96-2bee-4daa-ba2e-81228ded55d7
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:51:57,312 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'efcc8d96-2bee-4daa-ba2e-81228ded55d7'}
2021-06-15 03:51:57,317 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'arput--efcc8d96-2bee-4daa-ba2e-81228ded55d7'
2021-06-15 03:51:57,318 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:51:57,318 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--efcc8d96-2bee-4daa-ba2e-81228ded55d7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "efcc8d96-2bee-4daa-ba2e-81228ded55d7"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:30 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:51:57,592 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:57,592 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:51:57,594 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='arput--efcc8d96-2bee-4daa-ba2e-81228ded55d7'
2021-06-15 03:52:00,935 [INFO] 33:139818103073592 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:45 Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib
2021-06-15 03:52:00,935 [INFO] 33:139818103073592 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:52:00,936 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:52:00,936 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:52:00,936 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: c7389910-786b-4091-b698-67eb94b5fe95
2021-06-15 03:52:00,936 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:52:00,936 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib', 'runId': 'c7389910-786b-4091-b698-67eb94b5fe95'}
2021-06-15 03:52:00,940 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--c7389910-786b-4091-b698-67eb94b5fe95'
2021-06-15 03:52:00,941 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:52:00,941 [DEBUG] 33:139818103073592 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--c7389910-786b-4091-b698-67eb94b5fe95"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--eb99ac8c-a49f-4243-a54f-d66f06c9653d.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:33 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:52:01,214 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:01,214 [DEBUG] 33:139818103073592 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:01,215 [INFO] 33:139818103073592 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--c7389910-786b-4091-b698-67eb94b5fe95'
2021-06-15 03:52:01,216 [INFO] 33:139818103073592 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:52:03,774 [INFO] 33:139818139142968 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:52:03,774 [INFO] 33:139818139142968 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:52:03,774 [INFO] 33:139818139142968 deploy.py:deploy:107: deploying: repeat_interval: 547
2021-06-15 03:52:03,774 [INFO] 33:139818139142968 deploy.py:safe_deploy:120: starting
2021-06-15 03:52:03,774 [INFO] 33:139818139142968 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:52:03,780 [INFO] 33:139818139142968 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpogs3o5kd for: client_certificate.crt
2021-06-15 03:52:03,781 [INFO] 33:139818139142968 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfnshteqf for: client.key
2021-06-15 03:52:03,781 [INFO] 33:139818139142968 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7l07lcki for: ca.crt
2021-06-15 03:52:03,781 [INFO] 33:139818139142968 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:52:07,949 [INFO] 33:139818139142968 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 4f01ce48-2c61-4da5-942f-6ca8cb5299d7
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:52:07,950 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '4f01ce48-2c61-4da5-942f-6ca8cb5299d7'}
2021-06-15 03:52:07,955 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--4f01ce48-2c61-4da5-942f-6ca8cb5299d7'
2021-06-15 03:52:07,956 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:52:07,956 [DEBUG] 33:139818139142968 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--4f01ce48-2c61-4da5-942f-6ca8cb5299d7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "4f01ce48-2c61-4da5-942f-6ca8cb5299d7"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:40 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:52:08,229 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:08,229 [DEBUG] 33:139818139142968 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:08,230 [INFO] 33:139818139142968 deploy.py:deploy_generic_job:237: Job created. status='arpui--4f01ce48-2c61-4da5-942f-6ca8cb5299d7'
2021-06-15 03:52:08,231 [INFO] 33:139818139142968 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:52:17,603 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:52:17,603 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:52:17,603 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:52:17,603 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 03:52:17,603 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:52:17,609 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp1az79450 for: client_certificate.crt
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpb77i5je4 for: client.key
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpgl5jtk2r for: ca.crt
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 2459eeab-2246-40f5-8744-e94106d0303e
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:52:17,610 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '2459eeab-2246-40f5-8744-e94106d0303e'}
2021-06-15 03:52:17,614 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--2459eeab-2246-40f5-8744-e94106d0303e'
2021-06-15 03:52:17,615 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:52:17,615 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--2459eeab-2246-40f5-8744-e94106d0303e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "2459eeab-2246-40f5-8744-e94106d0303e"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:51:50 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:52:17,889 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:17,889 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:17,890 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--2459eeab-2246-40f5-8744-e94106d0303e'
2021-06-15 03:52:19,776 [INFO] 33:139818126412600 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:52:19,776 [INFO] 33:139818126412600 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:52:19,776 [INFO] 33:139818126412600 deploy.py:deploy:107: deploying: repeat_interval: 563
2021-06-15 03:52:19,776 [INFO] 33:139818126412600 deploy.py:safe_deploy:120: starting
2021-06-15 03:52:19,776 [INFO] 33:139818126412600 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:52:19,782 [INFO] 33:139818126412600 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfw1w94qw for: client_certificate.crt
2021-06-15 03:52:19,783 [INFO] 33:139818126412600 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2ry9c8_1 for: client.key
2021-06-15 03:52:19,783 [INFO] 33:139818126412600 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxdhtrfna for: ca.crt
2021-06-15 03:52:19,783 [INFO] 33:139818126412600 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:52:23,943 [INFO] 33:139818126412600 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:48 Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7
2021-06-15 03:52:23,944 [INFO] 33:139818126412600 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:52:23,944 [INFO] 33:139818126412600 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:52:28,106 [INFO] 33:139818126412600 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: b24fb6c3-e2d8-458f-992e-76adad2ce700
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:52:28,107 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': 'b24fb6c3-e2d8-458f-992e-76adad2ce700'}
2021-06-15 03:52:28,112 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--b24fb6c3-e2d8-458f-992e-76adad2ce700'
2021-06-15 03:52:28,113 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:52:28,113 [DEBUG] 33:139818126412600 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--b24fb6c3-e2d8-458f-992e-76adad2ce700"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "b24fb6c3-e2d8-458f-992e-76adad2ce700"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:52:00 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:52:28,341 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:28,341 [DEBUG] 33:139818126412600 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:52:28,388 [INFO] 33:139818126412600 deploy.py:deploy_generic_job:237: Job created. status='savedi--b24fb6c3-e2d8-458f-992e-76adad2ce700'
2021-06-15 03:52:28,388 [INFO] 33:139818126412600 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:53:05,777 [INFO] 33:139818123230008 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:53:05,777 [INFO] 33:139818123230008 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:53:05,777 [INFO] 33:139818123230008 deploy.py:deploy:107: deploying: repeat_interval: 609
2021-06-15 03:53:05,777 [INFO] 33:139818123230008 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:05,777 [INFO] 33:139818123230008 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:05,783 [INFO] 33:139818123230008 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpjswgfj3q for: client_certificate.crt
2021-06-15 03:53:05,784 [INFO] 33:139818123230008 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmlo3lq7_ for: client.key
2021-06-15 03:53:05,784 [INFO] 33:139818123230008 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp3rszw_r8 for: ca.crt
2021-06-15 03:53:05,784 [INFO] 33:139818123230008 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:53:07,779 [INFO] 33:139818105195320 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:53:07,779 [INFO] 33:139818105195320 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:53:07,780 [INFO] 33:139818105195320 deploy.py:deploy:107: deploying: repeat_interval: 611
2021-06-15 03:53:07,780 [INFO] 33:139818105195320 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:07,780 [INFO] 33:139818105195320 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:07,786 [INFO] 33:139818105195320 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmppi0gchjl for: client_certificate.crt
2021-06-15 03:53:07,786 [INFO] 33:139818105195320 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2_hbm_32 for: client.key
2021-06-15 03:53:07,787 [INFO] 33:139818105195320 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0zwyyaft for: ca.crt
2021-06-15 03:53:07,787 [INFO] 33:139818105195320 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:53:10,019 [INFO] 33:139818123230008 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:48 Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7
2021-06-15 03:53:10,019 [INFO] 33:139818123230008 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:10,020 [INFO] 33:139818123230008 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:49 Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 8eebdcaa-8c43-4244-991d-0d40f9ea791f
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:53:12,076 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib', 'runId': '8eebdcaa-8c43-4244-991d-0d40f9ea791f'}
2021-06-15 03:53:12,081 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--8eebdcaa-8c43-4244-991d-0d40f9ea791f'
2021-06-15 03:53:12,082 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:12,082 [DEBUG] 33:139818105195320 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--8eebdcaa-8c43-4244-991d-0d40f9ea791f"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:52:44 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:12,358 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:12,358 [DEBUG] 33:139818105195320 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:12,360 [INFO] 33:139818105195320 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--8eebdcaa-8c43-4244-991d-0d40f9ea791f'
2021-06-15 03:53:12,360 [INFO] 33:139818105195320 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:53:12,773 [INFO] 33:139818143386424 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:53:12,773 [INFO] 33:139818143386424 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:53:12,773 [INFO] 33:139818143386424 deploy.py:deploy:107: deploying: repeat_interval: 616
2021-06-15 03:53:12,773 [INFO] 33:139818143386424 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:12,773 [INFO] 33:139818143386424 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:12,779 [INFO] 33:139818143386424 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpcbzlzomu for: client_certificate.crt
2021-06-15 03:53:12,780 [INFO] 33:139818143386424 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmpcnq6ri for: client.key
2021-06-15 03:53:12,780 [INFO] 33:139818143386424 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpt68j9rmz for: ca.crt
2021-06-15 03:53:12,780 [INFO] 33:139818143386424 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: b6080e64-7459-47a7-9236-b3dbfffc1f6a
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:53:14,199 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': 'b6080e64-7459-47a7-9236-b3dbfffc1f6a'}
2021-06-15 03:53:14,205 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--b6080e64-7459-47a7-9236-b3dbfffc1f6a'
2021-06-15 03:53:14,206 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:14,206 [DEBUG] 33:139818123230008 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--b6080e64-7459-47a7-9236-b3dbfffc1f6a"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "b6080e64-7459-47a7-9236-b3dbfffc1f6a"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:52:47 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:14,479 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:14,479 [DEBUG] 33:139818123230008 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:14,480 [INFO] 33:139818123230008 deploy.py:deploy_generic_job:237: Job created. status='savedi--b6080e64-7459-47a7-9236-b3dbfffc1f6a'
2021-06-15 03:53:14,480 [INFO] 33:139818123230008 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:53:17,122 [INFO] 33:139818143386424 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 2c73b83f-b49b-4676-aed4-53a2fc1f6b17
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:53:17,123 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '2c73b83f-b49b-4676-aed4-53a2fc1f6b17'}
2021-06-15 03:53:17,128 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--2c73b83f-b49b-4676-aed4-53a2fc1f6b17'
2021-06-15 03:53:17,129 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:17,129 [DEBUG] 33:139818143386424 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--2c73b83f-b49b-4676-aed4-53a2fc1f6b17"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "2c73b83f-b49b-4676-aed4-53a2fc1f6b17"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:52:49 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:17,343 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:17,343 [DEBUG] 33:139818143386424 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:17,402 [INFO] 33:139818143386424 deploy.py:deploy_generic_job:237: Job created. status='arpui--2c73b83f-b49b-4676-aed4-53a2fc1f6b17'
2021-06-15 03:53:17,402 [INFO] 33:139818143386424 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:53:28,752 [INFO] 33:139818155055928 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:53:28,752 [INFO] 33:139818155055928 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:53:28,752 [INFO] 33:139818155055928 deploy.py:deploy:107: deploying: repeat_interval: 632
2021-06-15 03:53:28,752 [INFO] 33:139818155055928 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:28,752 [INFO] 33:139818155055928 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:28,759 [INFO] 33:139818155055928 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpug83nbsi for: client_certificate.crt
2021-06-15 03:53:28,759 [INFO] 33:139818155055928 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7u9panrs for: client.key
2021-06-15 03:53:28,759 [INFO] 33:139818155055928 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzc_l9uyj for: ca.crt
2021-06-15 03:53:28,759 [INFO] 33:139818155055928 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:53:32,930 [INFO] 33:139818155055928 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:53:32,930 [INFO] 33:139818155055928 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:32,930 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:32,930 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:53:32,931 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 34eb836a-5358-4c1b-b732-a1d7a0d04019
2021-06-15 03:53:32,931 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:53:32,931 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '34eb836a-5358-4c1b-b732-a1d7a0d04019'}
2021-06-15 03:53:32,936 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--34eb836a-5358-4c1b-b732-a1d7a0d04019'
2021-06-15 03:53:32,937 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:32,937 [DEBUG] 33:139818155055928 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--34eb836a-5358-4c1b-b732-a1d7a0d04019"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "34eb836a-5358-4c1b-b732-a1d7a0d04019"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:53:05 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:33,153 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:33,153 [DEBUG] 33:139818155055928 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:33,211 [INFO] 33:139818155055928 deploy.py:deploy_generic_job:237: Job created. status='arpui--34eb836a-5358-4c1b-b732-a1d7a0d04019'
2021-06-15 03:53:33,211 [INFO] 33:139818155055928 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:53:37,601 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:53:37,602 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:53:37,602 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:53:37,602 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:37,602 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:37,608 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsaf77zvy for: client_certificate.crt
2021-06-15 03:53:37,609 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpwmx7881r for: client.key
2021-06-15 03:53:37,609 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqwxre_em for: ca.crt
2021-06-15 03:53:37,609 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:37,609 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:53:37,610 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 03:53:37,610 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:53:37,610 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '8591a045-5018-4a01-879b-3f4487ed856e'}
2021-06-15 03:53:37,614 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--8591a045-5018-4a01-879b-3f4487ed856e'
2021-06-15 03:53:37,615 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:37,615 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--8591a045-5018-4a01-879b-3f4487ed856e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "8591a045-5018-4a01-879b-3f4487ed856e"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:53:10 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:37,833 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:37,833 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:37,888 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='savedt--8591a045-5018-4a01-879b-3f4487ed856e'
2021-06-15 03:53:40,774 [INFO] 33:139818137021240 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:53:40,774 [INFO] 33:139818137021240 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:53:40,774 [INFO] 33:139818137021240 deploy.py:deploy:107: deploying: repeat_interval: 644
2021-06-15 03:53:40,775 [INFO] 33:139818137021240 deploy.py:safe_deploy:120: starting
2021-06-15 03:53:40,775 [INFO] 33:139818137021240 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:53:40,781 [INFO] 33:139818137021240 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpz9fr4t1a for: client_certificate.crt
2021-06-15 03:53:40,781 [INFO] 33:139818137021240 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpz2gi8ow7 for: client.key
2021-06-15 03:53:40,781 [INFO] 33:139818137021240 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2ny50ohz for: ca.crt
2021-06-15 03:53:40,781 [INFO] 33:139818137021240 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:53:45,063 [INFO] 33:139818137021240 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:48 Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7
2021-06-15 03:53:45,063 [INFO] 33:139818137021240 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:45,063 [INFO] 33:139818137021240 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:53:49,235 [INFO] 33:139818137021240 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 96731754-6cea-4b42-9215-e2d534871ee9
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:53:49,236 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '96731754-6cea-4b42-9215-e2d534871ee9'}
2021-06-15 03:53:49,242 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--96731754-6cea-4b42-9215-e2d534871ee9'
2021-06-15 03:53:49,243 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:53:49,243 [DEBUG] 33:139818137021240 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--96731754-6cea-4b42-9215-e2d534871ee9"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "96731754-6cea-4b42-9215-e2d534871ee9"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:53:22 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:53:49,516 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:49,516 [DEBUG] 33:139818137021240 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:53:49,517 [INFO] 33:139818137021240 deploy.py:deploy_generic_job:237: Job created. status='savedi--96731754-6cea-4b42-9215-e2d534871ee9'
2021-06-15 03:53:49,517 [INFO] 33:139818137021240 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:54:20,751 [INFO] 33:139818156116792 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:54:20,751 [INFO] 33:139818156116792 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:54:20,751 [INFO] 33:139818156116792 deploy.py:deploy:107: deploying: repeat_interval: 684
2021-06-15 03:54:20,751 [INFO] 33:139818156116792 deploy.py:safe_deploy:120: starting
2021-06-15 03:54:20,751 [INFO] 33:139818156116792 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:54:20,758 [INFO] 33:139818156116792 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmvqqpeaj for: client_certificate.crt
2021-06-15 03:54:20,758 [INFO] 33:139818156116792 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpeffu03hq for: client.key
2021-06-15 03:54:20,758 [INFO] 33:139818156116792 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8v_84fwi for: ca.crt
2021-06-15 03:54:20,758 [INFO] 33:139818156116792 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:54:24,927 [INFO] 33:139818156116792 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:47 Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 1fec15d0-f451-4531-9acb-fb10a312d2cb
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:54:24,928 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e', 'runId': '1fec15d0-f451-4531-9acb-fb10a312d2cb'}
2021-06-15 03:54:24,933 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--1fec15d0-f451-4531-9acb-fb10a312d2cb'
2021-06-15 03:54:24,934 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:54:24,934 [DEBUG] 33:139818156116792 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--1fec15d0-f451-4531-9acb-fb10a312d2cb"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--837a17eb-797c-4d52-82fd-96c5ec67508e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "1fec15d0-f451-4531-9acb-fb10a312d2cb"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:53:57 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:54:25,206 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:25,206 [DEBUG] 33:139818156116792 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:25,208 [INFO] 33:139818156116792 deploy.py:deploy_generic_job:237: Job created. status='arpui--1fec15d0-f451-4531-9acb-fb10a312d2cb'
2021-06-15 03:54:25,208 [INFO] 33:139818156116792 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:54:35,758 [INFO] 33:139818151873336 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:54:35,758 [INFO] 33:139818151873336 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:54:35,758 [INFO] 33:139818151873336 deploy.py:deploy:107: deploying: repeat_interval: 699
2021-06-15 03:54:35,759 [INFO] 33:139818151873336 deploy.py:safe_deploy:120: starting
2021-06-15 03:54:35,759 [INFO] 33:139818151873336 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:54:35,765 [INFO] 33:139818151873336 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8po5rxz2 for: client_certificate.crt
2021-06-15 03:54:35,765 [INFO] 33:139818151873336 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpoe20f3np for: client.key
2021-06-15 03:54:35,765 [INFO] 33:139818151873336 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplu2r0opq for: ca.crt
2021-06-15 03:54:35,766 [INFO] 33:139818151873336 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:54:37,778 [INFO] 33:139818115803960 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:54:37,778 [INFO] 33:139818115803960 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:54:37,778 [INFO] 33:139818115803960 deploy.py:deploy:107: deploying: repeat_interval: 701
2021-06-15 03:54:37,778 [INFO] 33:139818115803960 deploy.py:safe_deploy:120: starting
2021-06-15 03:54:37,778 [INFO] 33:139818115803960 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:54:37,784 [INFO] 33:139818115803960 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkn26f3fy for: client_certificate.crt
2021-06-15 03:54:37,785 [INFO] 33:139818115803960 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp5ur5y6a6 for: client.key
2021-06-15 03:54:37,785 [INFO] 33:139818115803960 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp_thev4lh for: ca.crt
2021-06-15 03:54:37,785 [INFO] 33:139818115803960 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:54:37,891 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:54:37,891 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:54:37,892 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:54:37,892 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 03:54:37,892 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:54:37,898 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdunb7rb2 for: client_certificate.crt
2021-06-15 03:54:37,898 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzbdhliyh for: client.key
2021-06-15 03:54:37,898 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp52qcr3a4 for: ca.crt
2021-06-15 03:54:37,899 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:54:37,899 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:54:37,899 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 7c6ade04-9fff-4543-82a7-76e14ccc30e7
2021-06-15 03:54:37,899 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:54:37,899 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '7c6ade04-9fff-4543-82a7-76e14ccc30e7'}
2021-06-15 03:54:37,903 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--7c6ade04-9fff-4543-82a7-76e14ccc30e7'
2021-06-15 03:54:37,904 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:54:37,904 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--7c6ade04-9fff-4543-82a7-76e14ccc30e7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "7c6ade04-9fff-4543-82a7-76e14ccc30e7"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:54:10 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:54:38,176 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:38,176 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:38,177 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--7c6ade04-9fff-4543-82a7-76e14ccc30e7'
2021-06-15 03:54:39,966 [INFO] 33:139818151873336 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ab8bca64-8d5a-4355-a110-b908ffb64e25
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:54:39,967 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'ab8bca64-8d5a-4355-a110-b908ffb64e25'}
2021-06-15 03:54:39,972 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--ab8bca64-8d5a-4355-a110-b908ffb64e25'
2021-06-15 03:54:39,972 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:54:39,972 [DEBUG] 33:139818151873336 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--ab8bca64-8d5a-4355-a110-b908ffb64e25"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ab8bca64-8d5a-4355-a110-b908ffb64e25"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:54:12 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:54:40,188 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:40,188 [DEBUG] 33:139818151873336 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:40,247 [INFO] 33:139818151873336 deploy.py:deploy_generic_job:237: Job created. status='arpui--ab8bca64-8d5a-4355-a110-b908ffb64e25'
2021-06-15 03:54:40,247 [INFO] 33:139818151873336 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:49 Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 6bfcbf6d-dd6f-4631-a275-90b0afbbd3ba
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:54:41,991 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib', 'runId': '6bfcbf6d-dd6f-4631-a275-90b0afbbd3ba'}
2021-06-15 03:54:41,995 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--6bfcbf6d-dd6f-4631-a275-90b0afbbd3ba'
2021-06-15 03:54:41,996 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:54:41,996 [DEBUG] 33:139818115803960 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--6bfcbf6d-dd6f-4631-a275-90b0afbbd3ba"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--93ca340f-f52c-4927-9c67-83a343600037.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:54:14 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:54:42,268 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:42,268 [DEBUG] 33:139818115803960 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:42,269 [INFO] 33:139818115803960 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--6bfcbf6d-dd6f-4631-a275-90b0afbbd3ba'
2021-06-15 03:54:42,269 [INFO] 33:139818115803960 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:54:57,594 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 03:54:57,595 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:54:57,595 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 03:54:57,595 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 03:54:57,595 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:54:57,601 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpgj3heyan for: client_certificate.crt
2021-06-15 03:54:57,601 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplxz2oj9p for: client.key
2021-06-15 03:54:57,601 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxy3z8viy for: ca.crt
2021-06-15 03:54:57,602 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:54:57,602 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:54:57,602 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 0d8fdc8a-e94e-49e8-aab9-d274d076465a
2021-06-15 03:54:57,602 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:54:57,602 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '0d8fdc8a-e94e-49e8-aab9-d274d076465a'}
2021-06-15 03:54:57,606 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'arput--0d8fdc8a-e94e-49e8-aab9-d274d076465a'
2021-06-15 03:54:57,607 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:54:57,607 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--0d8fdc8a-e94e-49e8-aab9-d274d076465a"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "0d8fdc8a-e94e-49e8-aab9-d274d076465a"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:54:30 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:54:57,881 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:57,881 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:54:57,882 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='arput--0d8fdc8a-e94e-49e8-aab9-d274d076465a'
2021-06-15 03:55:23,770 [INFO] 33:139818149751608 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:55:23,771 [INFO] 33:139818149751608 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:55:23,771 [INFO] 33:139818149751608 deploy.py:deploy:107: deploying: repeat_interval: 747
2021-06-15 03:55:23,771 [INFO] 33:139818149751608 deploy.py:safe_deploy:120: starting
2021-06-15 03:55:23,771 [INFO] 33:139818149751608 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:55:23,777 [INFO] 33:139818149751608 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmparyv1mmk for: client_certificate.crt
2021-06-15 03:55:23,777 [INFO] 33:139818149751608 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpc5hs70ki for: client.key
2021-06-15 03:55:23,777 [INFO] 33:139818149751608 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpt6g0qnc4 for: ca.crt
2021-06-15 03:55:23,778 [INFO] 33:139818149751608 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 5a7d509c-8608-438f-a85f-40baf76d407c
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:55:28,180 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '5a7d509c-8608-438f-a85f-40baf76d407c'}
2021-06-15 03:55:28,185 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--5a7d509c-8608-438f-a85f-40baf76d407c'
2021-06-15 03:55:28,186 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:55:28,186 [DEBUG] 33:139818149751608 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--5a7d509c-8608-438f-a85f-40baf76d407c"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "5a7d509c-8608-438f-a85f-40baf76d407c"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:55:01 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:55:28,461 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:55:28,461 [DEBUG] 33:139818149751608 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:55:28,462 [INFO] 33:139818149751608 deploy.py:deploy_generic_job:237: Job created. status='arpui--5a7d509c-8608-438f-a85f-40baf76d407c'
2021-06-15 03:55:28,463 [INFO] 33:139818149751608 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:56:00,775 [INFO] 33:139818131716920 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:56:00,775 [INFO] 33:139818131716920 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:56:00,775 [INFO] 33:139818131716920 deploy.py:deploy:107: deploying: repeat_interval: 784
2021-06-15 03:56:00,775 [INFO] 33:139818131716920 deploy.py:safe_deploy:120: starting
2021-06-15 03:56:00,775 [INFO] 33:139818131716920 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:56:00,782 [INFO] 33:139818131716920 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpi57_abdk for: client_certificate.crt
2021-06-15 03:56:00,782 [INFO] 33:139818131716920 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp4ncaout4 for: client.key
2021-06-15 03:56:00,782 [INFO] 33:139818131716920 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprrdjgde1 for: ca.crt
2021-06-15 03:56:00,783 [INFO] 33:139818131716920 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:56:04,921 [INFO] 33:139818131716920 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:48 Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7
2021-06-15 03:56:04,921 [INFO] 33:139818131716920 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:56:04,921 [INFO] 33:139818131716920 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: c89476e6-c528-4e7d-9c7b-4eac037b791b
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:56:09,203 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'c89476e6-c528-4e7d-9c7b-4eac037b791b'}
2021-06-15 03:56:09,209 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--c89476e6-c528-4e7d-9c7b-4eac037b791b'
2021-06-15 03:56:09,210 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:56:09,210 [DEBUG] 33:139818131716920 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--c89476e6-c528-4e7d-9c7b-4eac037b791b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--7ec6c9c4-670a-4e8b-b207-673c412292d7"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "c89476e6-c528-4e7d-9c7b-4eac037b791b"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:55:42 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:56:09,482 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:09,482 [DEBUG] 33:139818131716920 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:09,483 [INFO] 33:139818131716920 deploy.py:deploy_generic_job:237: Job created. status='savedi--c89476e6-c528-4e7d-9c7b-4eac037b791b'
2021-06-15 03:56:09,484 [INFO] 33:139818131716920 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 03:56:17,780 [INFO] 33:139818098830136 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:56:17,780 [INFO] 33:139818098830136 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:56:17,780 [INFO] 33:139818098830136 deploy.py:deploy:107: deploying: repeat_interval: 801
2021-06-15 03:56:17,780 [INFO] 33:139818098830136 deploy.py:safe_deploy:120: starting
2021-06-15 03:56:17,780 [INFO] 33:139818098830136 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:56:17,786 [INFO] 33:139818098830136 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxr9bse8j for: client_certificate.crt
2021-06-15 03:56:17,787 [INFO] 33:139818098830136 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7oeved28 for: client.key
2021-06-15 03:56:17,787 [INFO] 33:139818098830136 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpu59mtcx5 for: ca.crt
2021-06-15 03:56:17,787 [INFO] 33:139818098830136 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:56:17,889 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:56:17,889 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:56:17,889 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:56:17,889 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 03:56:17,889 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:56:17,895 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpjgdadx84 for: client_certificate.crt
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpu6_ig0us for: client.key
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpv26pu344 for: ca.crt
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: feea90c2-37d4-4881-b3b5-c1efc3b288b8
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:56:17,896 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'feea90c2-37d4-4881-b3b5-c1efc3b288b8'}
2021-06-15 03:56:17,901 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--feea90c2-37d4-4881-b3b5-c1efc3b288b8'
2021-06-15 03:56:17,902 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:56:17,902 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--feea90c2-37d4-4881-b3b5-c1efc3b288b8"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "feea90c2-37d4-4881-b3b5-c1efc3b288b8"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:55:50 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:56:18,176 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:18,176 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:18,177 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='savedt--feea90c2-37d4-4881-b3b5-c1efc3b288b8'
2021-06-15 03:56:21,794 [INFO] 33:139818098830136 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:52 Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib
2021-06-15 03:56:21,794 [INFO] 33:139818098830136 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:56:21,794 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:56:21,795 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:56:21,795 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 9a91bfdd-2eb9-471b-8672-3e4e8704565a
2021-06-15 03:56:21,795 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:56:21,795 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib', 'runId': '9a91bfdd-2eb9-471b-8672-3e4e8704565a'}
2021-06-15 03:56:21,798 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--9a91bfdd-2eb9-471b-8672-3e4e8704565a'
2021-06-15 03:56:21,799 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:56:21,799 [DEBUG] 33:139818098830136 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--9a91bfdd-2eb9-471b-8672-3e4e8704565a"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:55:54 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:56:22,015 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:22,015 [DEBUG] 33:139818098830136 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:22,073 [INFO] 33:139818098830136 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--9a91bfdd-2eb9-471b-8672-3e4e8704565a'
2021-06-15 03:56:22,073 [INFO] 33:139818098830136 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:56:58,178 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:56:58,178 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:56:58,178 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:56:58,178 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 03:56:58,178 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:56:58,184 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdqic168q for: client_certificate.crt
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkdwjsoq8 for: client.key
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpspzqzl_7 for: ca.crt
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: dbf7d751-c5c1-426b-846f-951325c1183b
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:56:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': 'dbf7d751-c5c1-426b-846f-951325c1183b'}
2021-06-15 03:56:58,189 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--dbf7d751-c5c1-426b-846f-951325c1183b'
2021-06-15 03:56:58,190 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:56:58,190 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--dbf7d751-c5c1-426b-846f-951325c1183b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "dbf7d751-c5c1-426b-846f-951325c1183b"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:56:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:56:58,464 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:58,464 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:56:58,465 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--dbf7d751-c5c1-426b-846f-951325c1183b'
2021-06-15 03:56:59,772 [INFO] 33:139818145508152 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:56:59,772 [INFO] 33:139818145508152 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:56:59,773 [INFO] 33:139818145508152 deploy.py:deploy:107: deploying: repeat_interval: 843
2021-06-15 03:56:59,773 [INFO] 33:139818145508152 deploy.py:safe_deploy:120: starting
2021-06-15 03:56:59,773 [INFO] 33:139818145508152 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:56:59,779 [INFO] 33:139818145508152 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpzr22het4 for: client_certificate.crt
2021-06-15 03:56:59,779 [INFO] 33:139818145508152 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplj6ybcxz for: client.key
2021-06-15 03:56:59,779 [INFO] 33:139818145508152 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm7fpk2rq for: ca.crt
2021-06-15 03:56:59,779 [INFO] 33:139818145508152 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:57:03,850 [INFO] 33:139818145508152 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ced97566-87cf-4a62-b01f-0de77117e861
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:57:03,851 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'ced97566-87cf-4a62-b01f-0de77117e861'}
2021-06-15 03:57:03,856 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--ced97566-87cf-4a62-b01f-0de77117e861'
2021-06-15 03:57:03,857 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:57:03,857 [DEBUG] 33:139818145508152 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--ced97566-87cf-4a62-b01f-0de77117e861"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ced97566-87cf-4a62-b01f-0de77117e861"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:56:36 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:57:04,074 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:57:04,074 [DEBUG] 33:139818145508152 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:57:04,133 [INFO] 33:139818145508152 deploy.py:deploy_generic_job:237: Job created. status='arpui--ced97566-87cf-4a62-b01f-0de77117e861'
2021-06-15 03:57:04,133 [INFO] 33:139818145508152 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:57:57,750 [INFO] 33:139818157177656 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 03:57:57,750 [INFO] 33:139818157177656 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:57:57,750 [INFO] 33:139818157177656 deploy.py:deploy:107: deploying: repeat_interval: 901
2021-06-15 03:57:57,750 [INFO] 33:139818157177656 deploy.py:safe_deploy:120: starting
2021-06-15 03:57:57,750 [INFO] 33:139818157177656 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:57:57,756 [INFO] 33:139818157177656 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpewgq8yzp for: client_certificate.crt
2021-06-15 03:57:57,756 [INFO] 33:139818157177656 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpuji876ed for: client.key
2021-06-15 03:57:57,757 [INFO] 33:139818157177656 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp3pck3cuq for: ca.crt
2021-06-15 03:57:57,757 [INFO] 33:139818157177656 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:57:57,882 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 03:57:57,883 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:57:57,883 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 03:57:57,883 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 03:57:57,883 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:57:57,889 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphuzrzuv7 for: client_certificate.crt
2021-06-15 03:57:57,889 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsfksofig for: client.key
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdqpwb98a for: ca.crt
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 063fa69d-8bf0-49c7-a632-142861fdd44e
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 03:57:57,890 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '063fa69d-8bf0-49c7-a632-142861fdd44e'}
2021-06-15 03:57:57,895 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'arput--063fa69d-8bf0-49c7-a632-142861fdd44e'
2021-06-15 03:57:57,896 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:57:57,896 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--063fa69d-8bf0-49c7-a632-142861fdd44e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "063fa69d-8bf0-49c7-a632-142861fdd44e"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:57:30 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:57:58,169 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:57:58,169 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:57:58,171 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='arput--063fa69d-8bf0-49c7-a632-142861fdd44e'
2021-06-15 03:58:02,050 [INFO] 33:139818157177656 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 0bd5e0a2-9def-451f-89c5-2442b9809566
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 03:58:02,051 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '0bd5e0a2-9def-451f-89c5-2442b9809566'}
2021-06-15 03:58:02,056 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--0bd5e0a2-9def-451f-89c5-2442b9809566'
2021-06-15 03:58:02,057 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:58:02,057 [DEBUG] 33:139818157177656 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--0bd5e0a2-9def-451f-89c5-2442b9809566"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "0bd5e0a2-9def-451f-89c5-2442b9809566"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:57:34 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:58:02,330 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:02,330 [DEBUG] 33:139818157177656 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:02,331 [INFO] 33:139818157177656 deploy.py:deploy_generic_job:237: Job created. status='arpui--0bd5e0a2-9def-451f-89c5-2442b9809566'
2021-06-15 03:58:02,331 [INFO] 33:139818157177656 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 03:58:42,780 [INFO] 33:139818096708408 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 03:58:42,780 [INFO] 33:139818096708408 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:58:42,780 [INFO] 33:139818096708408 deploy.py:deploy:107: deploying: repeat_interval: 946
2021-06-15 03:58:42,780 [INFO] 33:139818096708408 deploy.py:safe_deploy:120: starting
2021-06-15 03:58:42,780 [INFO] 33:139818096708408 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:58:42,786 [INFO] 33:139818096708408 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp375gc3sj for: client_certificate.crt
2021-06-15 03:58:42,787 [INFO] 33:139818096708408 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmptdqo9d86 for: client.key
2021-06-15 03:58:42,787 [INFO] 33:139818096708408 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp50z9dvjp for: ca.crt
2021-06-15 03:58:42,787 [INFO] 33:139818096708408 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 03:58:47,050 [INFO] 33:139818096708408 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:52 Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib
2021-06-15 03:58:47,050 [INFO] 33:139818096708408 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:58:47,051 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:58:47,051 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 03:58:47,051 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: eed33b6e-f74f-4278-9e78-f690771177fa
2021-06-15 03:58:47,051 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 03:58:47,051 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib', 'runId': 'eed33b6e-f74f-4278-9e78-f690771177fa'}
2021-06-15 03:58:47,055 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--eed33b6e-f74f-4278-9e78-f690771177fa'
2021-06-15 03:58:47,056 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:58:47,056 [DEBUG] 33:139818096708408 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--eed33b6e-f74f-4278-9e78-f690771177fa"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:58:19 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:58:47,328 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:47,328 [DEBUG] 33:139818096708408 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:47,330 [INFO] 33:139818096708408 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--eed33b6e-f74f-4278-9e78-f690771177fa'
2021-06-15 03:58:47,330 [INFO] 33:139818096708408 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 03:58:58,178 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 03:58:58,178 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:58:58,178 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 03:58:58,178 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 03:58:58,178 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:58:58,184 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpd30icsi8 for: client_certificate.crt
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpgqbd6dy7 for: client.key
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmppaaonav3 for: ca.crt
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 48d3cc21-5605-48a4-aa32-3a0343d222fa
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 03:58:58,185 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '48d3cc21-5605-48a4-aa32-3a0343d222fa'}
2021-06-15 03:58:58,190 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--48d3cc21-5605-48a4-aa32-3a0343d222fa'
2021-06-15 03:58:58,190 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:58:58,190 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--48d3cc21-5605-48a4-aa32-3a0343d222fa"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "48d3cc21-5605-48a4-aa32-3a0343d222fa"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:58:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:58:58,464 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:58,464 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:58:58,465 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='savedt--48d3cc21-5605-48a4-aa32-3a0343d222fa'
2021-06-15 03:59:18,465 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 03:59:18,466 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 03:59:18,466 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 03:59:18,466 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 03:59:18,466 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:59:18,472 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9_v6t58w for: client_certificate.crt
2021-06-15 03:59:18,472 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmppl6ezmke for: client.key
2021-06-15 03:59:18,472 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0exojbcx for: ca.crt
2021-06-15 03:59:18,473 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:59:18,473 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 03:59:18,473 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 8411a166-a304-4ae6-8e1a-d77dea3e9228
2021-06-15 03:59:18,473 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 03:59:18,473 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '8411a166-a304-4ae6-8e1a-d77dea3e9228'}
2021-06-15 03:59:18,477 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--8411a166-a304-4ae6-8e1a-d77dea3e9228'
2021-06-15 03:59:18,478 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:59:18,478 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--8411a166-a304-4ae6-8e1a-d77dea3e9228"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "8411a166-a304-4ae6-8e1a-d77dea3e9228"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:58:51 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:59:18,751 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:59:18,751 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:59:18,752 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--8411a166-a304-4ae6-8e1a-d77dea3e9228'
2021-06-15 03:59:36,775 [INFO] 33:139818130656056 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 03:59:36,775 [INFO] 33:139818130656056 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 03:59:36,775 [INFO] 33:139818130656056 deploy.py:deploy:107: deploying: repeat_interval: 1000
2021-06-15 03:59:36,776 [INFO] 33:139818130656056 deploy.py:safe_deploy:120: starting
2021-06-15 03:59:36,776 [INFO] 33:139818130656056 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 03:59:36,782 [INFO] 33:139818130656056 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp44bad4wh for: client_certificate.crt
2021-06-15 03:59:36,782 [INFO] 33:139818130656056 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpztrvlpoc for: client.key
2021-06-15 03:59:36,782 [INFO] 33:139818130656056 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqzdifmd7 for: ca.crt
2021-06-15 03:59:36,782 [INFO] 33:139818130656056 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 03:59:40,934 [INFO] 33:139818130656056 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:54 Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833
2021-06-15 03:59:40,934 [INFO] 33:139818130656056 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:59:40,935 [INFO] 33:139818130656056 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9
2021-06-15 03:59:45,235 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 03:59:45,236 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9'}
2021-06-15 03:59:45,241 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9'
2021-06-15 03:59:45,242 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 03:59:45,242 [DEBUG] 33:139818130656056 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:59:18 GMT
header: Transfer-Encoding: chunked
2021-06-15 03:59:45,516 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:59:45,516 [DEBUG] 33:139818130656056 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 03:59:45,517 [INFO] 33:139818130656056 deploy.py:deploy_generic_job:237: Job created. status='savedi--ff7bbb0e-1b6f-4e57-8ed2-44b3c10470a9'
2021-06-15 03:59:45,518 [INFO] 33:139818130656056 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:00:14,775 [INFO] 33:139818134899512 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:00:14,775 [INFO] 33:139818134899512 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:00:14,775 [INFO] 33:139818134899512 deploy.py:deploy:107: deploying: repeat_interval: 1038
2021-06-15 04:00:14,775 [INFO] 33:139818134899512 deploy.py:safe_deploy:120: starting
2021-06-15 04:00:14,775 [INFO] 33:139818134899512 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:00:14,782 [INFO] 33:139818134899512 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpy2elyp7s for: client_certificate.crt
2021-06-15 04:00:14,782 [INFO] 33:139818134899512 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpghz009da for: client.key
2021-06-15 04:00:14,782 [INFO] 33:139818134899512 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprv9a5qu0 for: ca.crt
2021-06-15 04:00:14,782 [INFO] 33:139818134899512 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:00:18,983 [INFO] 33:139818134899512 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:54 Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833
2021-06-15 04:00:18,983 [INFO] 33:139818134899512 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:00:18,984 [INFO] 33:139818134899512 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: cde53632-f482-48fd-ba2f-904044216917
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:00:23,239 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'cde53632-f482-48fd-ba2f-904044216917'}
2021-06-15 04:00:23,248 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--cde53632-f482-48fd-ba2f-904044216917'
2021-06-15 04:00:23,250 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:00:23,250 [DEBUG] 33:139818134899512 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--cde53632-f482-48fd-ba2f-904044216917"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--1ef64fd3-f02f-4ae0-ab7c-26067555e833"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "cde53632-f482-48fd-ba2f-904044216917"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 03:59:56 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:00:23,524 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:23,524 [DEBUG] 33:139818134899512 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:23,525 [INFO] 33:139818134899512 deploy.py:deploy_generic_job:237: Job created. status='savedi--cde53632-f482-48fd-ba2f-904044216917'
2021-06-15 04:00:23,525 [INFO] 33:139818134899512 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:00:27,779 [INFO] 33:139818104134456 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:00:27,779 [INFO] 33:139818104134456 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:00:27,779 [INFO] 33:139818104134456 deploy.py:deploy:107: deploying: repeat_interval: 1051
2021-06-15 04:00:27,779 [INFO] 33:139818104134456 deploy.py:safe_deploy:120: starting
2021-06-15 04:00:27,779 [INFO] 33:139818104134456 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:00:27,786 [INFO] 33:139818104134456 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpcj39ygfi for: client_certificate.crt
2021-06-15 04:00:27,786 [INFO] 33:139818104134456 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp5njfkmmb for: client.key
2021-06-15 04:00:27,786 [INFO] 33:139818104134456 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpo1fznvou for: ca.crt
2021-06-15 04:00:27,787 [INFO] 33:139818104134456 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:00:32,123 [INFO] 33:139818104134456 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:52 Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib
2021-06-15 04:00:32,123 [INFO] 33:139818104134456 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:00:32,124 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:00:32,124 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:00:32,124 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3a6565b9-ef89-440a-9ef6-721913b452e1
2021-06-15 04:00:32,124 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:00:32,124 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib', 'runId': '3a6565b9-ef89-440a-9ef6-721913b452e1'}
2021-06-15 04:00:32,128 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--3a6565b9-ef89-440a-9ef6-721913b452e1'
2021-06-15 04:00:32,129 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:00:32,129 [DEBUG] 33:139818104134456 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--3a6565b9-ef89-440a-9ef6-721913b452e1"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--2459eeab-2246-40f5-8744-e94106d0303e.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:00:04 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:00:32,402 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:32,402 [DEBUG] 33:139818104134456 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:32,403 [INFO] 33:139818104134456 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--3a6565b9-ef89-440a-9ef6-721913b452e1'
2021-06-15 04:00:32,404 [INFO] 33:139818104134456 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:00:58,171 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:00:58,171 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:00:58,172 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:00:58,172 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 04:00:58,172 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:00:58,184 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpni67n3ud for: client_certificate.crt
2021-06-15 04:00:58,184 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkk8cro0a for: client.key
2021-06-15 04:00:58,185 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm4yt0_ln for: ca.crt
2021-06-15 04:00:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:00:58,185 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:00:58,186 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: f9b098dc-1b4c-45b0-94d0-5582a00e5b59
2021-06-15 04:00:58,186 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:00:58,186 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'f9b098dc-1b4c-45b0-94d0-5582a00e5b59'}
2021-06-15 04:00:58,194 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'arput--f9b098dc-1b4c-45b0-94d0-5582a00e5b59'
2021-06-15 04:00:58,195 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:00:58,195 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--f9b098dc-1b4c-45b0-94d0-5582a00e5b59"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "f9b098dc-1b4c-45b0-94d0-5582a00e5b59"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:00:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:00:58,470 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:58,470 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:00:58,471 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='arput--f9b098dc-1b4c-45b0-94d0-5582a00e5b59'
2021-06-15 04:01:38,466 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 04:01:38,466 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:01:38,466 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 04:01:38,466 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 04:01:38,466 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:01:38,478 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpajzoz7sl for: client_certificate.crt
2021-06-15 04:01:38,478 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpwgcutw2r for: client.key
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpo6hgel2i for: ca.crt
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: e73cefad-a4c7-4fde-ae33-470e626d0b49
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 04:01:38,479 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'e73cefad-a4c7-4fde-ae33-470e626d0b49'}
2021-06-15 04:01:38,487 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--e73cefad-a4c7-4fde-ae33-470e626d0b49'
2021-06-15 04:01:38,488 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:01:38,488 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--e73cefad-a4c7-4fde-ae33-470e626d0b49"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "e73cefad-a4c7-4fde-ae33-470e626d0b49"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
2021-06-15 04:01:38,753 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 04:01:38,753 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:01:38,753 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 04:01:38,753 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 04:01:38,753 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:01:38,759 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp83lg8y4x for: client_certificate.crt
2021-06-15 04:01:38,759 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpc8oyhkqc for: client.key
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyqcc4osy for: ca.crt
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 47e9202f-2f98-46a3-889a-e1a603a34add
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 04:01:38,760 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '47e9202f-2f98-46a3-889a-e1a603a34add'}
2021-06-15 04:01:38,764 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--47e9202f-2f98-46a3-889a-e1a603a34add'
2021-06-15 04:01:38,765 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
2021-06-15 04:01:38,765 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:01:11 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:01:38,765 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:01:38,765 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:01:38,766 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='savedt--e73cefad-a4c7-4fde-ae33-470e626d0b49'
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--47e9202f-2f98-46a3-889a-e1a603a34add"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "47e9202f-2f98-46a3-889a-e1a603a34add"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:01:11 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:01:39,076 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:01:39,076 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:01:39,096 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--47e9202f-2f98-46a3-889a-e1a603a34add'
2021-06-15 04:02:04,774 [INFO] 33:139818135960376 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:02:04,775 [INFO] 33:139818135960376 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:02:04,775 [INFO] 33:139818135960376 deploy.py:deploy:107: deploying: repeat_interval: 1148
2021-06-15 04:02:04,775 [INFO] 33:139818135960376 deploy.py:safe_deploy:120: starting
2021-06-15 04:02:04,775 [INFO] 33:139818135960376 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:02:04,781 [INFO] 33:139818135960376 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp7iwagkbu for: client_certificate.crt
2021-06-15 04:02:04,781 [INFO] 33:139818135960376 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpvw9v_0gq for: client.key
2021-06-15 04:02:04,781 [INFO] 33:139818135960376 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp56mi9chu for: ca.crt
2021-06-15 04:02:04,782 [INFO] 33:139818135960376 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:02:09,067 [INFO] 33:139818135960376 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:58 Trained_Saved_Model--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2
2021-06-15 04:02:09,067 [INFO] 33:139818135960376 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:02:09,067 [INFO] 33:139818135960376 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:02:13,318 [INFO] 33:139818135960376 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:02:13,318 [INFO] 33:139818135960376 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:02:13,319 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:02:13,319 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:02:13,319 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 4c064658-8efb-45dd-9d5b-c8f13420e893
2021-06-15 04:02:13,319 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:02:13,319 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '4c064658-8efb-45dd-9d5b-c8f13420e893'}
2021-06-15 04:02:13,324 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--4c064658-8efb-45dd-9d5b-c8f13420e893'
2021-06-15 04:02:13,325 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:02:13,325 [DEBUG] 33:139818135960376 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--4c064658-8efb-45dd-9d5b-c8f13420e893"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--421e60f8-b5ab-42ac-8a11-0fba3ad69ac2"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "4c064658-8efb-45dd-9d5b-c8f13420e893"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:01:46 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:02:13,542 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:02:13,542 [DEBUG] 33:139818135960376 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:02:13,598 [INFO] 33:139818135960376 deploy.py:deploy_generic_job:237: Job created. status='savedi--4c064658-8efb-45dd-9d5b-c8f13420e893'
2021-06-15 04:02:13,599 [INFO] 33:139818135960376 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:03:31,771 [INFO] 33:139818147629880 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:03:31,771 [INFO] 33:139818147629880 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:03:31,771 [INFO] 33:139818147629880 deploy.py:deploy:107: deploying: repeat_interval: 1235
2021-06-15 04:03:31,771 [INFO] 33:139818147629880 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:31,771 [INFO] 33:139818147629880 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:31,778 [INFO] 33:139818147629880 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9sxctj64 for: client_certificate.crt
2021-06-15 04:03:31,778 [INFO] 33:139818147629880 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphz641jk0 for: client.key
2021-06-15 04:03:31,778 [INFO] 33:139818147629880 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6c3wgl03 for: ca.crt
2021-06-15 04:03:31,778 [INFO] 33:139818147629880 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:03:32,779 [INFO] 33:139818106256184 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:32,779 [INFO] 33:139818106256184 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:03:32,779 [INFO] 33:139818106256184 deploy.py:deploy:107: deploying: repeat_interval: 1236
2021-06-15 04:03:32,779 [INFO] 33:139818106256184 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:32,779 [INFO] 33:139818106256184 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:32,786 [INFO] 33:139818106256184 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm4nl4giy for: client_certificate.crt
2021-06-15 04:03:32,786 [INFO] 33:139818106256184 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpssemvu8v for: client.key
2021-06-15 04:03:32,786 [INFO] 33:139818106256184 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpij5u6rko for: ca.crt
2021-06-15 04:03:32,786 [INFO] 33:139818106256184 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:03:33,778 [INFO] 33:139818109438776 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:33,779 [INFO] 33:139818109438776 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:03:33,779 [INFO] 33:139818109438776 deploy.py:deploy:107: deploying: repeat_interval: 1237
2021-06-15 04:03:33,779 [INFO] 33:139818109438776 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:33,779 [INFO] 33:139818109438776 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:33,786 [INFO] 33:139818109438776 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2x2odulk for: client_certificate.crt
2021-06-15 04:03:33,786 [INFO] 33:139818109438776 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpo159ygxy for: client.key
2021-06-15 04:03:33,786 [INFO] 33:139818109438776 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp46p7e3dv for: ca.crt
2021-06-15 04:03:33,787 [INFO] 33:139818109438776 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:03:35,978 [INFO] 33:139818147629880 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 97ad9db0-0295-4112-a635-5fe36314b0cb
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:03:35,979 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '97ad9db0-0295-4112-a635-5fe36314b0cb'}
2021-06-15 04:03:35,984 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--97ad9db0-0295-4112-a635-5fe36314b0cb'
2021-06-15 04:03:35,985 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:35,985 [DEBUG] 33:139818147629880 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--97ad9db0-0295-4112-a635-5fe36314b0cb"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "97ad9db0-0295-4112-a635-5fe36314b0cb"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:08 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:36,204 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:36,204 [DEBUG] 33:139818147629880 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:36,259 [INFO] 33:139818147629880 deploy.py:deploy_generic_job:237: Job created. status='arpui--97ad9db0-0295-4112-a635-5fe36314b0cb'
2021-06-15 04:03:36,259 [INFO] 33:139818147629880 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:03:36,946 [INFO] 33:139818106256184 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:59 Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 806ae5a2-3739-4772-b55c-dbbbb5d170f0
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:03:36,947 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib', 'runId': '806ae5a2-3739-4772-b55c-dbbbb5d170f0'}
2021-06-15 04:03:36,951 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--806ae5a2-3739-4772-b55c-dbbbb5d170f0'
2021-06-15 04:03:36,952 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:36,952 [DEBUG] 33:139818106256184 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--806ae5a2-3739-4772-b55c-dbbbb5d170f0"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:09 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:37,226 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:37,226 [DEBUG] 33:139818106256184 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:37,227 [INFO] 33:139818106256184 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--806ae5a2-3739-4772-b55c-dbbbb5d170f0'
2021-06-15 04:03:37,227 [INFO] 33:139818106256184 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:37,902 [INFO] 33:139818109438776 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:59 Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 6a61d031-2ce7-4462-9e13-dabb4ba00e6d
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:03:37,903 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib', 'runId': '6a61d031-2ce7-4462-9e13-dabb4ba00e6d'}
2021-06-15 04:03:37,907 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--6a61d031-2ce7-4462-9e13-dabb4ba00e6d'
2021-06-15 04:03:37,908 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:37,908 [DEBUG] 33:139818109438776 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--6a61d031-2ce7-4462-9e13-dabb4ba00e6d"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:10 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:38,179 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:38,179 [DEBUG] 33:139818109438776 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:38,180 [INFO] 33:139818109438776 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--6a61d031-2ce7-4462-9e13-dabb4ba00e6d'
2021-06-15 04:03:38,181 [INFO] 33:139818109438776 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:44,780 [INFO] 33:139818099891000 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:44,780 [INFO] 33:139818099891000 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:03:44,780 [INFO] 33:139818099891000 deploy.py:deploy:107: deploying: repeat_interval: 1248
2021-06-15 04:03:44,780 [INFO] 33:139818099891000 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:44,780 [INFO] 33:139818099891000 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:44,786 [INFO] 33:139818099891000 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm8lizkqw for: client_certificate.crt
2021-06-15 04:03:44,786 [INFO] 33:139818099891000 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxppqtgsg for: client.key
2021-06-15 04:03:44,787 [INFO] 33:139818099891000 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmps9vhr_ox for: ca.crt
2021-06-15 04:03:44,787 [INFO] 33:139818099891000 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 20:59 Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 73f02145-f816-470e-a319-d05b38029f69
2021-06-15 04:03:49,031 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:03:49,032 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib', 'runId': '73f02145-f816-470e-a319-d05b38029f69'}
2021-06-15 04:03:49,036 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--73f02145-f816-470e-a319-d05b38029f69'
2021-06-15 04:03:49,037 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:49,037 [DEBUG] 33:139818099891000 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--73f02145-f816-470e-a319-d05b38029f69"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--7c6ade04-9fff-4543-82a7-76e14ccc30e7.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:21 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:49,306 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:49,306 [DEBUG] 33:139818099891000 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:49,307 [INFO] 33:139818099891000 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--73f02145-f816-470e-a319-d05b38029f69'
2021-06-15 04:03:49,307 [INFO] 33:139818099891000 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:03:58,472 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:03:58,472 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:03:58,472 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:03:58,472 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:58,473 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:58,483 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp44805_di for: client_certificate.crt
2021-06-15 04:03:58,483 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0jw6rsyo for: client.key
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp2z6cp9q1 for: ca.crt
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 4c99ddd8-073c-45c3-8e1e-88202b30cfa5
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:03:58,484 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '4c99ddd8-073c-45c3-8e1e-88202b30cfa5'}
2021-06-15 04:03:58,489 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'arput--4c99ddd8-073c-45c3-8e1e-88202b30cfa5'
2021-06-15 04:03:58,490 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:58,490 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--4c99ddd8-073c-45c3-8e1e-88202b30cfa5"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "4c99ddd8-073c-45c3-8e1e-88202b30cfa5"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:58,761 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:58,761 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:58,762 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='arput--4c99ddd8-073c-45c3-8e1e-88202b30cfa5'
2021-06-15 04:03:59,097 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 04:03:59,097 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:03:59,097 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 04:03:59,097 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 04:03:59,097 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdc3b7arg for: client_certificate.crt
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpy19t87gt for: client.key
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp_w3ajclj for: ca.crt
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 04:03:59,104 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6
2021-06-15 04:03:59,105 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 04:03:59,105 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': '0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6'}
2021-06-15 04:03:59,109 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6'
2021-06-15 04:03:59,110 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:03:59,110 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:03:59,383 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:59,383 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:03:59,384 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--0eccd0dc-ccdd-4030-b4c1-24ac4e8a4ea6'
2021-06-15 04:04:18,767 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 04:04:18,767 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:04:18,767 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 04:04:18,767 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 04:04:18,768 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:04:18,775 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyb1lmo5w for: client_certificate.crt
2021-06-15 04:04:18,775 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpu293pbid for: client.key
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpiodqv9of for: ca.crt
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 4ef794a4-b248-4f43-b14e-c31ab73cc869
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 04:04:18,776 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '4ef794a4-b248-4f43-b14e-c31ab73cc869'}
2021-06-15 04:04:18,780 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--4ef794a4-b248-4f43-b14e-c31ab73cc869'
2021-06-15 04:04:18,781 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:04:18,781 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--4ef794a4-b248-4f43-b14e-c31ab73cc869"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "4ef794a4-b248-4f43-b14e-c31ab73cc869"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:03:51 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:04:19,053 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:04:19,053 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:04:19,054 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='savedt--4ef794a4-b248-4f43-b14e-c31ab73cc869'
2021-06-15 04:04:38,771 [INFO] 33:139818148690744 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:04:38,771 [INFO] 33:139818148690744 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:04:38,771 [INFO] 33:139818148690744 deploy.py:deploy:107: deploying: repeat_interval: 1302
2021-06-15 04:04:38,771 [INFO] 33:139818148690744 deploy.py:safe_deploy:120: starting
2021-06-15 04:04:38,771 [INFO] 33:139818148690744 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:04:38,777 [INFO] 33:139818148690744 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxqcec8m3 for: client_certificate.crt
2021-06-15 04:04:38,778 [INFO] 33:139818148690744 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp97wb2eix for: client.key
2021-06-15 04:04:38,778 [INFO] 33:139818148690744 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpctu_xfsr for: ca.crt
2021-06-15 04:04:38,778 [INFO] 33:139818148690744 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:04:42,870 [INFO] 33:139818148690744 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:04:42,870 [INFO] 33:139818148690744 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:04:42,870 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:04:42,870 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:04:42,870 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ac894fe4-6def-4b56-a521-dd8ddf412c1e
2021-06-15 04:04:42,871 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:04:42,871 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'ac894fe4-6def-4b56-a521-dd8ddf412c1e'}
2021-06-15 04:04:42,876 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--ac894fe4-6def-4b56-a521-dd8ddf412c1e'
2021-06-15 04:04:42,878 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:04:42,878 [DEBUG] 33:139818148690744 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--ac894fe4-6def-4b56-a521-dd8ddf412c1e"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ac894fe4-6def-4b56-a521-dd8ddf412c1e"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:04:15 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:04:43,094 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:04:43,094 [DEBUG] 33:139818148690744 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:04:43,151 [INFO] 33:139818148690744 deploy.py:deploy_generic_job:237: Job created. status='arpui--ac894fe4-6def-4b56-a521-dd8ddf412c1e'
2021-06-15 04:04:43,152 [INFO] 33:139818148690744 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:05:15,743 [INFO] 33:139818159299384 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:05:15,743 [INFO] 33:139818159299384 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:05:15,743 [INFO] 33:139818159299384 deploy.py:deploy:107: deploying: repeat_interval: 1339
2021-06-15 04:05:15,743 [INFO] 33:139818159299384 deploy.py:safe_deploy:120: starting
2021-06-15 04:05:15,743 [INFO] 33:139818159299384 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:05:15,750 [INFO] 33:139818159299384 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmph445ja40 for: client_certificate.crt
2021-06-15 04:05:15,750 [INFO] 33:139818159299384 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9g13o2eq for: client.key
2021-06-15 04:05:15,750 [INFO] 33:139818159299384 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp42gwgj1v for: ca.crt
2021-06-15 04:05:15,751 [INFO] 33:139818159299384 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:05:19,882 [INFO] 33:139818159299384 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:05:19,882 [INFO] 33:139818159299384 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:05:19,883 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:05:19,883 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:05:19,883 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 73ca031a-181b-4165-9bea-a0e8c97228a5
2021-06-15 04:05:19,883 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:05:19,883 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '73ca031a-181b-4165-9bea-a0e8c97228a5'}
2021-06-15 04:05:19,892 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--73ca031a-181b-4165-9bea-a0e8c97228a5'
2021-06-15 04:05:19,894 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:05:19,894 [DEBUG] 33:139818159299384 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--73ca031a-181b-4165-9bea-a0e8c97228a5"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "73ca031a-181b-4165-9bea-a0e8c97228a5"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:04:52 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:05:20,167 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:05:20,167 [DEBUG] 33:139818159299384 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:05:20,168 [INFO] 33:139818159299384 deploy.py:deploy_generic_job:237: Job created. status='arpui--73ca031a-181b-4165-9bea-a0e8c97228a5'
2021-06-15 04:05:20,169 [INFO] 33:139818159299384 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:06:00,773 [INFO] 33:139818142325560 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:06:00,774 [INFO] 33:139818142325560 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:06:00,774 [INFO] 33:139818142325560 deploy.py:deploy:107: deploying: repeat_interval: 1384
2021-06-15 04:06:00,774 [INFO] 33:139818142325560 deploy.py:safe_deploy:120: starting
2021-06-15 04:06:00,774 [INFO] 33:139818142325560 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:06:00,780 [INFO] 33:139818142325560 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkbi3l5zn for: client_certificate.crt
2021-06-15 04:06:00,780 [INFO] 33:139818142325560 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmanafzhd for: client.key
2021-06-15 04:06:00,781 [INFO] 33:139818142325560 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpul2qyq_i for: ca.crt
2021-06-15 04:06:00,781 [INFO] 33:139818142325560 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 1d9ae9db-77a7-450f-a10d-8242402d0647
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:06:04,983 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '1d9ae9db-77a7-450f-a10d-8242402d0647'}
2021-06-15 04:06:04,988 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--1d9ae9db-77a7-450f-a10d-8242402d0647'
2021-06-15 04:06:04,990 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:06:04,990 [DEBUG] 33:139818142325560 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--1d9ae9db-77a7-450f-a10d-8242402d0647"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "1d9ae9db-77a7-450f-a10d-8242402d0647"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:05:37 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:06:05,262 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:05,262 [DEBUG] 33:139818142325560 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:05,263 [INFO] 33:139818142325560 deploy.py:deploy_generic_job:237: Job created. status='arpui--1d9ae9db-77a7-450f-a10d-8242402d0647'
2021-06-15 04:06:05,263 [INFO] 33:139818142325560 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:06:19,385 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 04:06:19,385 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:06:19,385 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 04:06:19,385 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 04:06:19,385 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:06:19,397 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6sbsk568 for: client_certificate.crt
2021-06-15 04:06:19,398 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpv9b4pde6 for: client.key
2021-06-15 04:06:19,398 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqqbu01w2 for: ca.crt
2021-06-15 04:06:19,398 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:06:19,398 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 04:06:19,399 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: d1b63b5b-da24-4bbe-b0fb-7555d25ce9e2
2021-06-15 04:06:19,399 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 04:06:19,399 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': 'd1b63b5b-da24-4bbe-b0fb-7555d25ce9e2'}
2021-06-15 04:06:19,406 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--d1b63b5b-da24-4bbe-b0fb-7555d25ce9e2'
2021-06-15 04:06:19,407 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:06:19,407 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--d1b63b5b-da24-4bbe-b0fb-7555d25ce9e2"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "d1b63b5b-da24-4bbe-b0fb-7555d25ce9e2"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:05:52 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:06:19,681 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:19,681 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:19,682 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--d1b63b5b-da24-4bbe-b0fb-7555d25ce9e2'
2021-06-15 04:06:58,763 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:06:58,763 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:06:58,763 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:06:58,763 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 04:06:58,763 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpq4kan9ee for: client_certificate.crt
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpvm3yl344 for: client.key
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpk5_y5pzh for: ca.crt
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 828fa229-396f-4711-ad35-eae2679b7e9d
2021-06-15 04:06:58,770 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:06:58,771 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '828fa229-396f-4711-ad35-eae2679b7e9d'}
2021-06-15 04:06:58,775 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'arput--828fa229-396f-4711-ad35-eae2679b7e9d'
2021-06-15 04:06:58,776 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:06:58,776 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--828fa229-396f-4711-ad35-eae2679b7e9d"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "828fa229-396f-4711-ad35-eae2679b7e9d"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:06:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:06:59,047 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:59,047 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:59,048 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='arput--828fa229-396f-4711-ad35-eae2679b7e9d'
2021-06-15 04:06:59,055 [INFO] 33:139818163542840 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 04:06:59,055 [INFO] 33:139818163542840 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:06:59,055 [INFO] 33:139818163542840 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 04:06:59,055 [INFO] 33:139818163542840 deploy.py:safe_deploy:120: starting
2021-06-15 04:06:59,055 [INFO] 33:139818163542840 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxqgs9t6e for: client_certificate.crt
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8_smcnn_ for: client.key
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprq8j2xty for: ca.crt
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 04:06:59,062 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 08d3c486-47c8-4e80-a78e-b1a72c70a0a2
2021-06-15 04:06:59,063 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 04:06:59,063 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '08d3c486-47c8-4e80-a78e-b1a72c70a0a2'}
2021-06-15 04:06:59,067 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--08d3c486-47c8-4e80-a78e-b1a72c70a0a2'
2021-06-15 04:06:59,068 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:06:59,068 [DEBUG] 33:139818163542840 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--08d3c486-47c8-4e80-a78e-b1a72c70a0a2"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "08d3c486-47c8-4e80-a78e-b1a72c70a0a2"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:06:32 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:06:59,371 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:59,371 [DEBUG] 33:139818163542840 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:06:59,428 [INFO] 33:139818163542840 deploy.py:deploy_generic_job:237: Job created. status='savedt--08d3c486-47c8-4e80-a78e-b1a72c70a0a2'
2021-06-15 04:07:52,776 [INFO] 33:139818124290872 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:07:52,776 [INFO] 33:139818124290872 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:07:52,777 [INFO] 33:139818124290872 deploy.py:deploy:107: deploying: repeat_interval: 1496
2021-06-15 04:07:52,777 [INFO] 33:139818124290872 deploy.py:safe_deploy:120: starting
2021-06-15 04:07:52,777 [INFO] 33:139818124290872 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:07:52,783 [INFO] 33:139818124290872 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0lnu9fli for: client_certificate.crt
2021-06-15 04:07:52,784 [INFO] 33:139818124290872 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpoiqvj3y7 for: client.key
2021-06-15 04:07:52,784 [INFO] 33:139818124290872 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpcftqh_3g for: ca.crt
2021-06-15 04:07:52,784 [INFO] 33:139818124290872 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:07:57,043 [INFO] 33:139818124290872 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:07:57,043 [INFO] 33:139818124290872 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:07:57,043 [INFO] 33:139818124290872 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:08:01,342 [INFO] 33:139818124290872 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:08:01,342 [INFO] 33:139818124290872 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:08:01,343 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:08:01,343 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:08:01,343 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 04374aac-4f7b-4823-8c29-0483e80942af
2021-06-15 04:08:01,343 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:08:01,343 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '04374aac-4f7b-4823-8c29-0483e80942af'}
2021-06-15 04:08:01,349 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--04374aac-4f7b-4823-8c29-0483e80942af'
2021-06-15 04:08:01,351 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:08:01,351 [DEBUG] 33:139818124290872 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--04374aac-4f7b-4823-8c29-0483e80942af"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "04374aac-4f7b-4823-8c29-0483e80942af"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:07:34 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:08:01,566 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:01,566 [DEBUG] 33:139818124290872 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:01,625 [INFO] 33:139818124290872 deploy.py:deploy_generic_job:237: Job created. status='savedi--04374aac-4f7b-4823-8c29-0483e80942af'
2021-06-15 04:08:01,625 [INFO] 33:139818124290872 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:08:28,776 [INFO] 33:139818129595192 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:08:28,776 [INFO] 33:139818129595192 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:08:28,776 [INFO] 33:139818129595192 deploy.py:deploy:107: deploying: repeat_interval: 1532
2021-06-15 04:08:28,776 [INFO] 33:139818129595192 deploy.py:safe_deploy:120: starting
2021-06-15 04:08:28,776 [INFO] 33:139818129595192 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:08:28,782 [INFO] 33:139818129595192 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp3_3s9sy0 for: client_certificate.crt
2021-06-15 04:08:28,783 [INFO] 33:139818129595192 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpz_v1fwru for: client.key
2021-06-15 04:08:28,783 [INFO] 33:139818129595192 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmph1xabh58 for: ca.crt
2021-06-15 04:08:28,783 [INFO] 33:139818129595192 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:08:33,114 [INFO] 33:139818129595192 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:08:33,114 [INFO] 33:139818129595192 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:08:33,114 [INFO] 33:139818129595192 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:08:37,451 [INFO] 33:139818129595192 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:08:37,451 [INFO] 33:139818129595192 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:08:37,452 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:08:37,452 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:08:37,452 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 1a4617e2-a948-434c-93f2-3a00a1d1d512
2021-06-15 04:08:37,452 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:08:37,452 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '1a4617e2-a948-434c-93f2-3a00a1d1d512'}
2021-06-15 04:08:37,460 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--1a4617e2-a948-434c-93f2-3a00a1d1d512'
2021-06-15 04:08:37,462 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:08:37,462 [DEBUG] 33:139818129595192 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--1a4617e2-a948-434c-93f2-3a00a1d1d512"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "1a4617e2-a948-434c-93f2-3a00a1d1d512"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:08:10 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:08:37,739 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:37,739 [DEBUG] 33:139818129595192 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:37,740 [INFO] 33:139818129595192 deploy.py:deploy_generic_job:237: Job created. status='savedi--1a4617e2-a948-434c-93f2-3a00a1d1d512'
2021-06-15 04:08:37,741 [INFO] 33:139818129595192 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:08:39,682 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_train_job
2021-06-15 04:08:39,682 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:08:39,682 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 140.0
2021-06-15 04:08:39,683 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 04:08:39,683 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:08:39,689 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpjxq5kwft for: client_certificate.crt
2021-06-15 04:08:39,689 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpsk6duf2u for: client.key
2021-06-15 04:08:39,689 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpbal6tksj for: ca.crt
2021-06-15 04:08:39,690 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:08:39,690 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-train
2021-06-15 04:08:39,690 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: ef19a814-8722-4a97-97ca-3d8458c002ad
2021-06-15 04:08:39,690 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_train_job.yaml
2021-06-15 04:08:39,690 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'runId': 'ef19a814-8722-4a97-97ca-3d8458c002ad'}
2021-06-15 04:08:39,694 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-train--ef19a814-8722-4a97-97ca-3d8458c002ad'
2021-06-15 04:08:39,695 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:08:39,695 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 830\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-train--ef19a814-8722-4a97-97ca-3d8458c002ad"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-train", "image": "*******/cfdwid_lr_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "ef19a814-8722-4a97-97ca-3d8458c002ad"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:08:12 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:08:39,965 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:39,965 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:39,966 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-train--ef19a814-8722-4a97-97ca-3d8458c002ad'
2021-06-15 04:08:39,966 [INFO] 33:139818164603704 deploy.py:deploy:114: all done with train deployments for: deploy_cfdwid_lr_train_job
2021-06-15 04:08:50,778 [INFO] 33:139818113682232 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:08:50,778 [INFO] 33:139818113682232 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:08:50,778 [INFO] 33:139818113682232 deploy.py:deploy:107: deploying: repeat_interval: 1554
2021-06-15 04:08:50,778 [INFO] 33:139818113682232 deploy.py:safe_deploy:120: starting
2021-06-15 04:08:50,778 [INFO] 33:139818113682232 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:08:50,784 [INFO] 33:139818113682232 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9aohqm1z for: client_certificate.crt
2021-06-15 04:08:50,785 [INFO] 33:139818113682232 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdmvv0ngn for: client.key
2021-06-15 04:08:50,785 [INFO] 33:139818113682232 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8n0wwzf6 for: ca.crt
2021-06-15 04:08:50,785 [INFO] 33:139818113682232 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:08:51,774 [INFO] 33:139818141264696 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:08:51,774 [INFO] 33:139818141264696 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:08:51,774 [INFO] 33:139818141264696 deploy.py:deploy:107: deploying: repeat_interval: 1555
2021-06-15 04:08:51,774 [INFO] 33:139818141264696 deploy.py:safe_deploy:120: starting
2021-06-15 04:08:51,774 [INFO] 33:139818141264696 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:08:51,781 [INFO] 33:139818141264696 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmply7cyqca for: client_certificate.crt
2021-06-15 04:08:51,781 [INFO] 33:139818141264696 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmprawc5dnr for: client.key
2021-06-15 04:08:51,781 [INFO] 33:139818141264696 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyuoserzc for: ca.crt
2021-06-15 04:08:51,782 [INFO] 33:139818141264696 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:08:55,114 [INFO] 33:139818113682232 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 21:05 Trained_cfdwid_la--dbf7d751-c5c1-426b-846f-951325c1183b.joblib
2021-06-15 04:08:55,114 [INFO] 33:139818113682232 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:08:55,115 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:08:55,115 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:08:55,115 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3e7a442d-e692-405c-bd4c-03f759cb5162
2021-06-15 04:08:55,115 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:08:55,115 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--dbf7d751-c5c1-426b-846f-951325c1183b.joblib', 'runId': '3e7a442d-e692-405c-bd4c-03f759cb5162'}
2021-06-15 04:08:55,119 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--3e7a442d-e692-405c-bd4c-03f759cb5162'
2021-06-15 04:08:55,120 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:08:55,120 [DEBUG] 33:139818113682232 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--3e7a442d-e692-405c-bd4c-03f759cb5162"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--dbf7d751-c5c1-426b-846f-951325c1183b.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:08:27 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:08:55,334 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:55,334 [DEBUG] 33:139818113682232 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:55,393 [INFO] 33:139818113682232 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--3e7a442d-e692-405c-bd4c-03f759cb5162'
2021-06-15 04:08:55,394 [INFO] 33:139818113682232 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:08:56,027 [INFO] 33:139818141264696 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 819e1791-cecd-44f6-9d80-01c46c1ecab8
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:08:56,028 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '819e1791-cecd-44f6-9d80-01c46c1ecab8'}
2021-06-15 04:08:56,033 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--819e1791-cecd-44f6-9d80-01c46c1ecab8'
2021-06-15 04:08:56,034 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:08:56,034 [DEBUG] 33:139818141264696 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--819e1791-cecd-44f6-9d80-01c46c1ecab8"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "819e1791-cecd-44f6-9d80-01c46c1ecab8"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:08:28 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:08:56,247 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:56,247 [DEBUG] 33:139818141264696 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:08:56,306 [INFO] 33:139818141264696 deploy.py:deploy_generic_job:237: Job created. status='arpui--819e1791-cecd-44f6-9d80-01c46c1ecab8'
2021-06-15 04:08:56,306 [INFO] 33:139818141264696 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:09:39,429 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 04:09:39,429 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:09:39,429 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 04:09:39,429 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 04:09:39,429 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:09:39,437 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpyrw_w04p for: client_certificate.crt
2021-06-15 04:09:39,438 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpqs75eap6 for: client.key
2021-06-15 04:09:39,438 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp_355pywd for: ca.crt
2021-06-15 04:09:39,438 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:09:39,438 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 04:09:39,439 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: e92f7d94-803f-4e90-bf1e-df1e11c9d457
2021-06-15 04:09:39,439 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 04:09:39,439 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'e92f7d94-803f-4e90-bf1e-df1e11c9d457'}
2021-06-15 04:09:39,444 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--e92f7d94-803f-4e90-bf1e-df1e11c9d457'
2021-06-15 04:09:39,445 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:09:39,445 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--e92f7d94-803f-4e90-bf1e-df1e11c9d457"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "e92f7d94-803f-4e90-bf1e-df1e11c9d457"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:09:12 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:09:39,721 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:09:39,721 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:09:39,723 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='savedt--e92f7d94-803f-4e90-bf1e-df1e11c9d457'
2021-06-15 04:09:59,049 [INFO] 33:139818162481976 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:09:59,049 [INFO] 33:139818162481976 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:09:59,049 [INFO] 33:139818162481976 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:09:59,049 [INFO] 33:139818162481976 deploy.py:safe_deploy:120: starting
2021-06-15 04:09:59,049 [INFO] 33:139818162481976 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:09:59,057 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfx0x3c72 for: client_certificate.crt
2021-06-15 04:09:59,057 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp4pqvvf9s for: client.key
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpxd27q1z1 for: ca.crt
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 08dd1b44-ecc3-4d3a-acb7-613dd86f539c
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:09:59,058 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': '08dd1b44-ecc3-4d3a-acb7-613dd86f539c'}
2021-06-15 04:09:59,062 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:234: Deploying Job 'arput--08dd1b44-ecc3-4d3a-acb7-613dd86f539c'
2021-06-15 04:09:59,063 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:09:59,063 [DEBUG] 33:139818162481976 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--08dd1b44-ecc3-4d3a-acb7-613dd86f539c"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "08dd1b44-ecc3-4d3a-acb7-613dd86f539c"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:09:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:09:59,276 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:09:59,276 [DEBUG] 33:139818162481976 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:09:59,334 [INFO] 33:139818162481976 deploy.py:deploy_generic_job:237: Job created. status='arput--08dd1b44-ecc3-4d3a-acb7-613dd86f539c'
2021-06-15 04:10:06,776 [INFO] 33:139818128534328 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:10:06,776 [INFO] 33:139818128534328 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:10:06,776 [INFO] 33:139818128534328 deploy.py:deploy:107: deploying: repeat_interval: 1630
2021-06-15 04:10:06,776 [INFO] 33:139818128534328 deploy.py:safe_deploy:120: starting
2021-06-15 04:10:06,776 [INFO] 33:139818128534328 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:10:06,784 [INFO] 33:139818128534328 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp588q1unl for: client_certificate.crt
2021-06-15 04:10:06,784 [INFO] 33:139818128534328 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpooson4vh for: client.key
2021-06-15 04:10:06,784 [INFO] 33:139818128534328 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp_f2p3hyj for: ca.crt
2021-06-15 04:10:06,785 [INFO] 33:139818128534328 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:10:11,055 [INFO] 33:139818128534328 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:10:11,055 [INFO] 33:139818128534328 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:11,055 [INFO] 33:139818128534328 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:10:15,266 [INFO] 33:139818128534328 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:10:15,266 [INFO] 33:139818128534328 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:15,266 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:10:15,266 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:10:15,267 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 00e13e15-06a6-4223-904b-594bbb4362ed
2021-06-15 04:10:15,267 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:10:15,267 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '00e13e15-06a6-4223-904b-594bbb4362ed'}
2021-06-15 04:10:15,272 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--00e13e15-06a6-4223-904b-594bbb4362ed'
2021-06-15 04:10:15,274 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:10:15,274 [DEBUG] 33:139818128534328 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--00e13e15-06a6-4223-904b-594bbb4362ed"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "00e13e15-06a6-4223-904b-594bbb4362ed"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:09:48 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:10:15,489 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:15,489 [DEBUG] 33:139818128534328 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:15,546 [INFO] 33:139818128534328 deploy.py:deploy_generic_job:237: Job created. status='savedi--00e13e15-06a6-4223-904b-594bbb4362ed'
2021-06-15 04:10:15,547 [INFO] 33:139818128534328 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:10:20,777 [INFO] 33:139818122169144 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:10:20,777 [INFO] 33:139818122169144 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:10:20,777 [INFO] 33:139818122169144 deploy.py:deploy:107: deploying: repeat_interval: 1644
2021-06-15 04:10:20,777 [INFO] 33:139818122169144 deploy.py:safe_deploy:120: starting
2021-06-15 04:10:20,777 [INFO] 33:139818122169144 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:10:20,783 [INFO] 33:139818122169144 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpk7uvs7w1 for: client_certificate.crt
2021-06-15 04:10:20,784 [INFO] 33:139818122169144 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpd8p6lw6j for: client.key
2021-06-15 04:10:20,784 [INFO] 33:139818122169144 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp1slmz7qv for: ca.crt
2021-06-15 04:10:20,784 [INFO] 33:139818122169144 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:10:25,103 [INFO] 33:139818122169144 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:10:25,103 [INFO] 33:139818122169144 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:25,103 [INFO] 33:139818122169144 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:10:29,254 [INFO] 33:139818122169144 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:10:29,254 [INFO] 33:139818122169144 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:29,255 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:10:29,255 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:10:29,255 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: b25dead7-8874-4aed-b0bb-da6e41e95e8b
2021-06-15 04:10:29,255 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:10:29,255 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'b25dead7-8874-4aed-b0bb-da6e41e95e8b'}
2021-06-15 04:10:29,262 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--b25dead7-8874-4aed-b0bb-da6e41e95e8b'
2021-06-15 04:10:29,263 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:10:29,263 [DEBUG] 33:139818122169144 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--b25dead7-8874-4aed-b0bb-da6e41e95e8b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "b25dead7-8874-4aed-b0bb-da6e41e95e8b"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:10:02 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:10:29,536 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:29,536 [DEBUG] 33:139818122169144 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:29,538 [INFO] 33:139818122169144 deploy.py:deploy_generic_job:237: Job created. status='savedi--b25dead7-8874-4aed-b0bb-da6e41e95e8b'
2021-06-15 04:10:29,538 [INFO] 33:139818122169144 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:10:33,777 [INFO] 33:139818118986552 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:10:33,777 [INFO] 33:139818118986552 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:10:33,777 [INFO] 33:139818118986552 deploy.py:deploy:107: deploying: repeat_interval: 1657
2021-06-15 04:10:33,777 [INFO] 33:139818118986552 deploy.py:safe_deploy:120: starting
2021-06-15 04:10:33,777 [INFO] 33:139818118986552 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:10:33,784 [INFO] 33:139818118986552 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp8w9htr7z for: client_certificate.crt
2021-06-15 04:10:33,784 [INFO] 33:139818118986552 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpgqggnqws for: client.key
2021-06-15 04:10:33,784 [INFO] 33:139818118986552 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp_qntj2qf for: ca.crt
2021-06-15 04:10:33,785 [INFO] 33:139818118986552 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:10:37,962 [INFO] 33:139818118986552 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:10:37,963 [INFO] 33:139818118986552 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:37,963 [INFO] 33:139818118986552 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:10:42,223 [INFO] 33:139818118986552 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:10:42,223 [INFO] 33:139818118986552 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:10:42,223 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:10:42,223 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:10:42,223 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 382c6fdb-9741-4522-9c4f-b4408a17d992
2021-06-15 04:10:42,224 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:10:42,224 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '382c6fdb-9741-4522-9c4f-b4408a17d992'}
2021-06-15 04:10:42,229 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--382c6fdb-9741-4522-9c4f-b4408a17d992'
2021-06-15 04:10:42,230 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:10:42,230 [DEBUG] 33:139818118986552 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--382c6fdb-9741-4522-9c4f-b4408a17d992"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "382c6fdb-9741-4522-9c4f-b4408a17d992"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:10:15 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:10:42,444 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:42,444 [DEBUG] 33:139818118986552 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:10:42,505 [INFO] 33:139818118986552 deploy.py:deploy_generic_job:237: Job created. status='savedi--382c6fdb-9741-4522-9c4f-b4408a17d992'
2021-06-15 04:10:42,505 [INFO] 33:139818118986552 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:11:03,753 [INFO] 33:139818153995064 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:11:03,753 [INFO] 33:139818153995064 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:11:03,753 [INFO] 33:139818153995064 deploy.py:deploy:107: deploying: repeat_interval: 1687
2021-06-15 04:11:03,753 [INFO] 33:139818153995064 deploy.py:safe_deploy:120: starting
2021-06-15 04:11:03,753 [INFO] 33:139818153995064 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:11:03,760 [INFO] 33:139818153995064 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpipme7x18 for: client_certificate.crt
2021-06-15 04:11:03,761 [INFO] 33:139818153995064 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpo359hxig for: client.key
2021-06-15 04:11:03,761 [INFO] 33:139818153995064 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpd_8s3iin for: ca.crt
2021-06-15 04:11:03,761 [INFO] 33:139818153995064 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:11:07,907 [INFO] 33:139818153995064 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: cb0aab52-86e5-4511-8fe9-f43af76ecad7
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:11:07,908 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'cb0aab52-86e5-4511-8fe9-f43af76ecad7'}
2021-06-15 04:11:07,913 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--cb0aab52-86e5-4511-8fe9-f43af76ecad7'
2021-06-15 04:11:07,914 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:11:07,914 [DEBUG] 33:139818153995064 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--cb0aab52-86e5-4511-8fe9-f43af76ecad7"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "cb0aab52-86e5-4511-8fe9-f43af76ecad7"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:10:40 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:11:08,187 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:08,187 [DEBUG] 33:139818153995064 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:08,189 [INFO] 33:139818153995064 deploy.py:deploy_generic_job:237: Job created. status='arpui--cb0aab52-86e5-4511-8fe9-f43af76ecad7'
2021-06-15 04:11:08,189 [INFO] 33:139818153995064 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:11:12,765 [INFO] 33:139818150812472 deploy.py:deploy:105: deploying: deployment['name']: deploy_arpui_job
2021-06-15 04:11:12,765 [INFO] 33:139818150812472 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:11:12,765 [INFO] 33:139818150812472 deploy.py:deploy:107: deploying: repeat_interval: 1696
2021-06-15 04:11:12,765 [INFO] 33:139818150812472 deploy.py:safe_deploy:120: starting
2021-06-15 04:11:12,765 [INFO] 33:139818150812472 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:11:12,772 [INFO] 33:139818150812472 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp0jbrnitv for: client_certificate.crt
2021-06-15 04:11:12,772 [INFO] 33:139818150812472 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmparjeq766 for: client.key
2021-06-15 04:11:12,772 [INFO] 33:139818150812472 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpkvriwe3g for: ca.crt
2021-06-15 04:11:12,773 [INFO] 33:139818150812472 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:11:16,814 [INFO] 33:139818150812472 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:11:16,814 [INFO] 33:139818150812472 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:16,815 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:11:16,815 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arpui
2021-06-15 04:11:16,815 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c
2021-06-15 04:11:16,815 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arpui_job.yaml
2021-06-15 04:11:16,815 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c'}
2021-06-15 04:11:16,821 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:234: Deploying Job 'arpui--c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c'
2021-06-15 04:11:16,823 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:11:16,823 [DEBUG] 33:139818150812472 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1057\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arpui--c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:10:49 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:11:17,038 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:17,038 [DEBUG] 33:139818150812472 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:17,096 [INFO] 33:139818150812472 deploy.py:deploy_generic_job:237: Job created. status='arpui--c4dd2b9c-4b61-4b62-aa4a-4fbec12f5a5c'
2021-06-15 04:11:17,096 [INFO] 33:139818150812472 deploy.py:deploy:116: done with inf deployment: deploy_arpui_job
2021-06-15 04:11:32,775 [INFO] 33:139818132777784 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:11:32,775 [INFO] 33:139818132777784 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:11:32,775 [INFO] 33:139818132777784 deploy.py:deploy:107: deploying: repeat_interval: 1716
2021-06-15 04:11:32,775 [INFO] 33:139818132777784 deploy.py:safe_deploy:120: starting
2021-06-15 04:11:32,775 [INFO] 33:139818132777784 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:11:32,782 [INFO] 33:139818132777784 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpze1n38p0 for: client_certificate.crt
2021-06-15 04:11:32,782 [INFO] 33:139818132777784 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpiw5p7nlv for: client.key
2021-06-15 04:11:32,782 [INFO] 33:139818132777784 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpdwsgkmoo for: ca.crt
2021-06-15 04:11:32,782 [INFO] 33:139818132777784 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:11:34,777 [INFO] 33:139818117925688 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:11:34,778 [INFO] 33:139818117925688 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:11:34,778 [INFO] 33:139818117925688 deploy.py:deploy:107: deploying: repeat_interval: 1718
2021-06-15 04:11:34,778 [INFO] 33:139818117925688 deploy.py:safe_deploy:120: starting
2021-06-15 04:11:34,778 [INFO] 33:139818117925688 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:11:34,784 [INFO] 33:139818117925688 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpf28s52kq for: client_certificate.crt
2021-06-15 04:11:34,784 [INFO] 33:139818117925688 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphcdqngug for: client.key
2021-06-15 04:11:34,785 [INFO] 33:139818117925688 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpll59cyz2 for: ca.crt
2021-06-15 04:11:34,785 [INFO] 33:139818117925688 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:11:36,983 [INFO] 33:139818132777784 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:11:36,983 [INFO] 33:139818132777784 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:36,983 [INFO] 33:139818132777784 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:11:38,951 [INFO] 33:139818117925688 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:11:38,951 [INFO] 33:139818117925688 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:38,951 [INFO] 33:139818117925688 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: f0a20b50-52a1-4029-8db0-4430c881696d
2021-06-15 04:11:41,179 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:11:41,180 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': 'f0a20b50-52a1-4029-8db0-4430c881696d'}
2021-06-15 04:11:41,185 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--f0a20b50-52a1-4029-8db0-4430c881696d'
2021-06-15 04:11:41,186 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:11:41,186 [DEBUG] 33:139818132777784 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--f0a20b50-52a1-4029-8db0-4430c881696d"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "f0a20b50-52a1-4029-8db0-4430c881696d"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:11:14 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:11:41,457 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:41,457 [DEBUG] 33:139818132777784 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:41,459 [INFO] 33:139818132777784 deploy.py:deploy_generic_job:237: Job created. status='savedi--f0a20b50-52a1-4029-8db0-4430c881696d'
2021-06-15 04:11:41,459 [INFO] 33:139818132777784 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 01998d71-ca74-49aa-9e99-05563b9afa69
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:11:43,259 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '01998d71-ca74-49aa-9e99-05563b9afa69'}
2021-06-15 04:11:43,264 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--01998d71-ca74-49aa-9e99-05563b9afa69'
2021-06-15 04:11:43,265 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:11:43,265 [DEBUG] 33:139818117925688 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--01998d71-ca74-49aa-9e99-05563b9afa69"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "01998d71-ca74-49aa-9e99-05563b9afa69"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:11:16 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:11:43,542 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:43,542 [DEBUG] 33:139818117925688 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:11:43,543 [INFO] 33:139818117925688 deploy.py:deploy_generic_job:237: Job created. status='savedi--01998d71-ca74-49aa-9e99-05563b9afa69'
2021-06-15 04:11:43,543 [INFO] 33:139818117925688 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:12:19,723 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedt_job
2021-06-15 04:12:19,724 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:12:19,724 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 160.0
2021-06-15 04:12:19,724 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:19,724 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:19,730 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmppoc4au0f for: client_certificate.crt
2021-06-15 04:12:19,730 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6jr9a5x7 for: client.key
2021-06-15 04:12:19,730 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpc2zsguj3 for: ca.crt
2021-06-15 04:12:19,731 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:19,731 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedt
2021-06-15 04:12:19,731 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: dc2643ed-202f-4a3a-844a-fdd35605ff89
2021-06-15 04:12:19,731 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedt_job.yaml
2021-06-15 04:12:19,731 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'dc2643ed-202f-4a3a-844a-fdd35605ff89'}
2021-06-15 04:12:19,735 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'savedt--dc2643ed-202f-4a3a-844a-fdd35605ff89'
2021-06-15 04:12:19,736 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:19,736 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 940\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedt--dc2643ed-202f-4a3a-844a-fdd35605ff89"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "dc2643ed-202f-4a3a-844a-fdd35605ff89"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:11:52 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:19,955 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:19,955 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:20,012 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='savedt--dc2643ed-202f-4a3a-844a-fdd35605ff89'
2021-06-15 04:12:20,013 [INFO] 33:139818164603704 deploy.py:deploy:114: all done with train deployments for: deploy_savedt_job
2021-06-15 04:12:36,780 [INFO] 33:139818097769272 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:36,780 [INFO] 33:139818097769272 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:12:36,780 [INFO] 33:139818097769272 deploy.py:deploy:107: deploying: repeat_interval: 1780
2021-06-15 04:12:36,780 [INFO] 33:139818097769272 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:36,780 [INFO] 33:139818097769272 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:36,786 [INFO] 33:139818097769272 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp1d2ztjmk for: client_certificate.crt
2021-06-15 04:12:36,787 [INFO] 33:139818097769272 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpfkolzc4f for: client.key
2021-06-15 04:12:36,787 [INFO] 33:139818097769272 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpnx5ercir for: ca.crt
2021-06-15 04:12:36,787 [INFO] 33:139818097769272 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:12:40,934 [INFO] 33:139818097769272 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 21:06 Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib
2021-06-15 04:12:40,934 [INFO] 33:139818097769272 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:12:40,935 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:40,935 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:12:40,935 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: a968d044-3ba6-4e20-b77b-2b98a84df13b
2021-06-15 04:12:40,935 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:12:40,935 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib', 'runId': 'a968d044-3ba6-4e20-b77b-2b98a84df13b'}
2021-06-15 04:12:40,939 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--a968d044-3ba6-4e20-b77b-2b98a84df13b'
2021-06-15 04:12:40,940 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:40,940 [DEBUG] 33:139818097769272 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--a968d044-3ba6-4e20-b77b-2b98a84df13b"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:12:13 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:41,213 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:41,213 [DEBUG] 33:139818097769272 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:41,215 [INFO] 33:139818097769272 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--a968d044-3ba6-4e20-b77b-2b98a84df13b'
2021-06-15 04:12:41,215 [INFO] 33:139818097769272 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:46,778 [INFO] 33:139818107317048 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:46,779 [INFO] 33:139818107317048 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:12:46,779 [INFO] 33:139818107317048 deploy.py:deploy:107: deploying: repeat_interval: 1790
2021-06-15 04:12:46,779 [INFO] 33:139818107317048 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:46,779 [INFO] 33:139818107317048 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:46,785 [INFO] 33:139818107317048 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmps5roxfu1 for: client_certificate.crt
2021-06-15 04:12:46,785 [INFO] 33:139818107317048 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp3jl5t26h for: client.key
2021-06-15 04:12:46,786 [INFO] 33:139818107317048 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpx7q57j2o for: ca.crt
2021-06-15 04:12:46,786 [INFO] 33:139818107317048 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:12:49,777 [INFO] 33:139818120047416 deploy.py:deploy:105: deploying: deployment['name']: deploy_savedi_job
2021-06-15 04:12:49,777 [INFO] 33:139818120047416 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:12:49,777 [INFO] 33:139818120047416 deploy.py:deploy:107: deploying: repeat_interval: 1793
2021-06-15 04:12:49,777 [INFO] 33:139818120047416 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:49,777 [INFO] 33:139818120047416 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:49,785 [INFO] 33:139818120047416 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmppz8dx7vw for: client_certificate.crt
2021-06-15 04:12:49,785 [INFO] 33:139818120047416 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpku1c21d6 for: client.key
2021-06-15 04:12:49,785 [INFO] 33:139818120047416 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpuhuz0zib for: ca.crt
2021-06-15 04:12:49,786 [INFO] 33:139818120047416 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Saved_Model | head -1'"
2021-06-15 04:12:51,026 [INFO] 33:139818107317048 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 21:06 Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib
2021-06-15 04:12:51,026 [INFO] 33:139818107317048 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:12:51,027 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:51,027 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:12:51,027 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: fbb7990e-a9fe-45ad-8cc6-c72f55cfaa76
2021-06-15 04:12:51,027 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:12:51,027 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib', 'runId': 'fbb7990e-a9fe-45ad-8cc6-c72f55cfaa76'}
2021-06-15 04:12:51,031 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--fbb7990e-a9fe-45ad-8cc6-c72f55cfaa76'
2021-06-15 04:12:51,032 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:51,032 [DEBUG] 33:139818107317048 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--fbb7990e-a9fe-45ad-8cc6-c72f55cfaa76"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:12:23 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:51,306 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:51,306 [DEBUG] 33:139818107317048 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:51,308 [INFO] 33:139818107317048 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--fbb7990e-a9fe-45ad-8cc6-c72f55cfaa76'
2021-06-15 04:12:51,308 [INFO] 33:139818107317048 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:52,778 [INFO] 33:139818112621368 deploy.py:deploy:105: deploying: deployment['name']: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:52,778 [INFO] 33:139818112621368 deploy.py:deploy:106: deploying:  deployment['type']: inf
2021-06-15 04:12:52,778 [INFO] 33:139818112621368 deploy.py:deploy:107: deploying: repeat_interval: 1796
2021-06-15 04:12:52,778 [INFO] 33:139818112621368 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:52,778 [INFO] 33:139818112621368 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:52,784 [INFO] 33:139818112621368 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpnqj3e18n for: client_certificate.crt
2021-06-15 04:12:52,785 [INFO] 33:139818112621368 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmphwh901bc for: client.key
2021-06-15 04:12:52,785 [INFO] 33:139818112621368 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp751urbhm for: ca.crt
2021-06-15 04:12:52,785 [INFO] 33:139818112621368 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_cfdwid_la | head -1'"
2021-06-15 04:12:53,994 [INFO] 33:139818120047416 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 21:04 Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e
2021-06-15 04:12:53,994 [INFO] 33:139818120047416 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:12:53,995 [INFO] 33:139818120047416 ExecuteUtil.py:execute:6: executing command: "ssh asu-worker 'ls -laht --time-style=long-iso /to-mount-data-dir | grep Trained_Arpu_Model | head -1'"
2021-06-15 04:12:57,022 [INFO] 33:139818112621368 ExecuteUtil.py:execute:12: -rw-r--r--   1 root root 1.2K 2021-06-14 21:06 Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib
2021-06-15 04:12:57,022 [INFO] 33:139818112621368 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:12:57,023 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:57,023 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: cfdwid-lr-inference
2021-06-15 04:12:57,023 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: b18ba1cb-449f-4dd4-aa90-5c6defdee295
2021-06-15 04:12:57,023 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/cfdwid_lr_inference_job.yaml
2021-06-15 04:12:57,023 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/creditcard_large.csv', 'trainedOutputModelPath': '/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib', 'runId': 'b18ba1cb-449f-4dd4-aa90-5c6defdee295'}
2021-06-15 04:12:57,030 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:234: Deploying Job 'cfdwid-lr-inference--b18ba1cb-449f-4dd4-aa90-5c6defdee295'
2021-06-15 04:12:57,032 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:57,032 [DEBUG] 33:139818112621368 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 818\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "cfdwid-lr-inference--b18ba1cb-449f-4dd4-aa90-5c6defdee295"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "cfdwid-lr-inference", "image": "*******/cfdwid_lr_inference", "env": [{"name": "INPUT_CSV_FILE_PATH", "value": "/app/mnt/creditcard_large.csv"}, {"name": "TRAINED_OUTPUT_MODEL_PATH", "value": "/app/mnt/Trained_cfdwid_la--8411a166-a304-4ae6-8e1a-d77dea3e9228.joblib"}], "volumeMounts": [{"mountPath": "/app/mnt", "name": "test-volume"}], "resources": {"limits": {"memory": "2500Mi", "cpu": "2"}, "requests": {"memory": "2500Mi", "cpu": "2"}}}], "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}], "restartPolicy": "Never"}}, "backoffLimit": 1}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:12:29 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:57,306 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:57,306 [DEBUG] 33:139818112621368 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:57,307 [INFO] 33:139818112621368 deploy.py:deploy_generic_job:237: Job created. status='cfdwid-lr-inference--b18ba1cb-449f-4dd4-aa90-5c6defdee295'
2021-06-15 04:12:57,308 [INFO] 33:139818112621368 deploy.py:deploy:116: done with inf deployment: deploy_cfdwid_lr_inference_job
2021-06-15 04:12:58,158 [INFO] 33:139818120047416 ExecuteUtil.py:execute:12: drwxr-xr-x   4 root root 4.0K 2021-06-14 20:51 Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3
2021-06-15 04:12:58,158 [INFO] 33:139818120047416 ExecuteUtil.py:execute:15: Subprocess return code: 0
2021-06-15 04:12:58,159 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:58,159 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: savedi
2021-06-15 04:12:58,159 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: 3f37122a-ed10-42c4-813f-afcc80cae6b5
2021-06-15 04:12:58,159 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/savedi_job.yaml
2021-06-15 04:12:58,159 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'trainedSavedModelPath': '/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e', 'trainedArpuModelPath': '/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3', 'runId': '3f37122a-ed10-42c4-813f-afcc80cae6b5'}
2021-06-15 04:12:58,164 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:234: Deploying Job 'savedi--3f37122a-ed10-42c4-813f-afcc80cae6b5'
2021-06-15 04:12:58,164 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:58,164 [DEBUG] 33:139818120047416 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 1176\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "savedi--3f37122a-ed10-42c4-813f-afcc80cae6b5"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_saved_inference:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "TRAINED_ARPU_MODEL_PATH", "value": "/app/mnt/Trained_Arpu_Model--d7ba5ae2-18ab-47da-bc65-05cbf28edbf3"}, {"name": "TRAINED_SAVED_MODEL_PATH", "value": "/app/mnt/Trained_Saved_Model--8591a045-5018-4a01-879b-3f4487ed856e"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "3f37122a-ed10-42c4-813f-afcc80cae6b5"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "1100Mi", "cpu": "2"}, "requests": {"memory": "1100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:12:31 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:58,376 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:58,376 [DEBUG] 33:139818120047416 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:58,436 [INFO] 33:139818120047416 deploy.py:deploy_generic_job:237: Job created. status='savedi--3f37122a-ed10-42c4-813f-afcc80cae6b5'
2021-06-15 04:12:58,436 [INFO] 33:139818120047416 deploy.py:deploy:116: done with inf deployment: deploy_savedi_job
2021-06-15 04:12:59,335 [INFO] 33:139818165664568 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:12:59,335 [INFO] 33:139818165664568 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:12:59,335 [INFO] 33:139818165664568 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:12:59,335 [INFO] 33:139818165664568 deploy.py:safe_deploy:120: starting
2021-06-15 04:12:59,336 [INFO] 33:139818165664568 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:12:59,343 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp477f2uqx for: client_certificate.crt
2021-06-15 04:12:59,343 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp6ugo8lvb for: client.key
2021-06-15 04:12:59,343 [INFO] 33:139818165664568 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmplle0qy5l for: ca.crt
2021-06-15 04:12:59,343 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:12:59,344 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:12:59,344 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0
2021-06-15 04:12:59,344 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:12:59,344 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0'}
2021-06-15 04:12:59,348 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:234: Deploying Job 'arput--c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0'
2021-06-15 04:12:59,349 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:12:59,349 [DEBUG] 33:139818165664568 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:12:32 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:12:59,622 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:59,622 [DEBUG] 33:139818165664568 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:12:59,623 [INFO] 33:139818165664568 deploy.py:deploy_generic_job:237: Job created. status='arput--c99754a2-f6b2-4ec2-8c7c-27a0b56e4cf0'
2021-06-15 04:15:59,624 [INFO] 33:139818164603704 deploy.py:deploy:105: deploying: deployment['name']: deploy_arput_job
2021-06-15 04:15:59,624 [INFO] 33:139818164603704 deploy.py:deploy:106: deploying:  deployment['type']: train
2021-06-15 04:15:59,624 [INFO] 33:139818164603704 deploy.py:deploy:107: deploying: repeat_interval: 180.0
2021-06-15 04:15:59,624 [INFO] 33:139818164603704 deploy.py:safe_deploy:120: starting
2021-06-15 04:15:59,624 [INFO] 33:139818164603704 Clusters.py:get_scale_from_cluster:30: getting scale from cluster
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpmdij8jml for: client_certificate.crt
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmp9hhair23 for: client.key
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 TempFileHelper.py:createTempFileFromData:15: creating temporary file: /tmp/tmpm44aazks for: ca.crt
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:223: Preparing Job deployment
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:224: Preparing Job deployment: deployment_name: arput
2021-06-15 04:15:59,631 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:225: Preparing Job deployment: deployment_uuid: bdd465f7-7e1e-44c7-acac-fa3e79b798b1
2021-06-15 04:15:59,632 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:226: Preparing Job deployment: deployment_yaml_file: /app/config/deployment_yamls/arput_job.yaml
2021-06-15 04:15:59,632 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:227: Preparing Job deployment: template_inputs: {'inputFileName1': '/app/mnt/export_09292018.csv', 'runId': 'bdd465f7-7e1e-44c7-acac-fa3e79b798b1'}
2021-06-15 04:15:59,636 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:234: Deploying Job 'arput--bdd465f7-7e1e-44c7-acac-fa3e79b798b1'
2021-06-15 04:15:59,637 DEBUG Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
2021-06-15 04:15:59,637 [DEBUG] 33:139818164603704 connectionpool.py:_new_conn:955: Starting new HTTPS connection (1): jamesk-kubernetes-master:8080
send: b'POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1\r\nHost: jamesk-kubernetes-master:8080\r\nAccept-Encoding: identity\r\nContent-Length: 938\r\nAccept: application/json\r\nContent-Type: application/json\r\nUser-Agent: Swagger-Codegen/10.0.1/python\r\n\r\n'
send: b'{"apiVersion": "batch/v1", "kind": "Job", "metadata": {"name": "arput--bdd465f7-7e1e-44c7-acac-fa3e79b798b1"}, "spec": {"template": {"spec": {"imagePullSecrets": [{"name": "regcred"}], "containers": [{"name": "outbound-model", "image": "*******/scaling-overflower-experiment-scheduling-ml-workload-outbound_model_12_pipeline_arpu_train:latest", "env": [{"name": "INPUT_CSV_FILE_PATH_1", "value": "/app/mnt/export_09292018.csv"}, {"name": "OUTPUT_MODEL_FOLDER_PATH", "value": "/app/mnt"}, {"name": "OUTPUT_FILE_SUFFIX", "value": "bdd465f7-7e1e-44c7-acac-fa3e79b798b1"}], "volumeMounts": [{"name": "test-volume", "mountPath": "/app/mnt"}], "resources": {"limits": {"memory": "2100Mi", "cpu": "2"}, "requests": {"memory": "2100Mi", "cpu": "2"}}}], "restartPolicy": "Never", "volumes": [{"name": "test-volume", "hostPath": {"path": "/to-mount-data-dir", "type": "Directory"}}, {"name": "output-volume", "emptyDir": {}}]}}, "backoffLimit": 4}}'
reply: 'HTTP/1.1 201 Created\r\n'
header: Cache-Control: no-cache, private
header: Content-Type: application/json
header: X-Kubernetes-Pf-Flowschema-Uid: 1247a8d2-c85e-4a6f-bef1-82fd963eb6b3
header: X-Kubernetes-Pf-Prioritylevel-Uid: df3b52ff-5892-433a-b48b-cc59973c3bed
header: Date: Tue, 15 Jun 2021 04:15:32 GMT
header: Transfer-Encoding: chunked
2021-06-15 04:15:59,974 DEBUG https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:15:59,974 [DEBUG] 33:139818164603704 connectionpool.py:_make_request:428: https://jamesk-kubernetes-master:8080 "POST /apis/batch/v1/namespaces/default/jobs HTTP/1.1" 201 None
2021-06-15 04:15:59,976 [INFO] 33:139818164603704 deploy.py:deploy_generic_job:237: Job created. status='arput--bdd465f7-7e1e-44c7-acac-fa3e79b798b1'
2021-06-15 04:15:59,976 [INFO] 33:139818164603704 deploy.py:deploy:114: all done with train deployments for: deploy_arput_job
Connection to 192.168.123.62 closed by remote host.
